##### Extra Events for Reapers' Due Event Chains #####
##### Also includes events for EK's own diseases #####

namespace = ekrip

# Knahaten Flu has ravaged Tsaesci
province_event = {
	id = ekrip.25
	hide_window = yes
	is_triggered_only = yes

	immediate = { province_event = { id = ekrip.50 days = 100 random = 250 } } 
}

province_event = {
	id = ekrip.50
	hide_window = yes
	is_triggered_only = yes

	immediate = { owner = { narrative_event = { id = ekrip.75 } } }
}

narrative_event = {
	id = ekrip.75
	title = EKRip75Title
	picture = GFX_evt_danse_macabre
	border = GFX_event_narrative_frame_religion

	desc = EKRip75Desc

	is_triggered_only = yes
	hide_from = yes

	major = yes
	
	option = {
		name = EVTOPTA_RIP_10015
	}
}

# Knahaten Flu has ravaged Kamal
province_event = {
	id = ekrip.26
	hide_window = yes
	is_triggered_only = yes

	immediate = { province_event = { id = ekrip.51 days = 100 random = 250 } } 
}

province_event = {
	id = ekrip.51
	hide_window = yes
	is_triggered_only = yes

	immediate = { owner = { narrative_event = { id = ekrip.76 } } }
}

narrative_event = {
	id = ekrip.76
	title = EKRip76Title
	picture = GFX_evt_danse_macabre
	border = GFX_event_narrative_frame_religion

	desc = EKRip76Desc

	is_triggered_only = yes
	hide_from = yes

	major = yes
	
	option = {
		name = EVTOPTA_RIP_10015
	}
}

# Knahaten Flu has ravaged Tang Mo
province_event = {
	id = ekrip.27
	hide_window = yes
	is_triggered_only = yes

	immediate = { province_event = { id = ekrip.52 days = 100 random = 250 } } 
}

province_event = {
	id = ekrip.52
	hide_window = yes
	is_triggered_only = yes

	immediate = { owner = { narrative_event = { id = ekrip.77 } } }
}

narrative_event = {
	id = ekrip.77
	title = EKRip77Title
	picture = GFX_evt_danse_macabre
	border = GFX_event_narrative_frame_religion

	desc = EKRip77Desc

	is_triggered_only = yes
	hide_from = yes

	major = yes
	
	option = {
		name = EVTOPTA_RIP_10015
	}
}

# Knahaten Flu has ravaged Po Tun
province_event = {
	id = ekrip.28
	hide_window = yes
	is_triggered_only = yes

	immediate = { province_event = { id = ekrip.53 days = 100 random = 250 } } 
}

province_event = {
	id = ekrip.53
	hide_window = yes
	is_triggered_only = yes

	immediate = { owner = { narrative_event = { id = ekrip.78 } } }
}

narrative_event = {
	id = ekrip.78
	title = EKRip78Title
	picture = GFX_evt_danse_macabre
	border = GFX_event_narrative_frame_religion

	desc = EKRip78Desc

	is_triggered_only = yes
	hide_from = yes

	major = yes
	
	option = {
		name = EVTOPTA_RIP_10015
	}
}

# Knahaten Flu has ravaged The Islands
province_event = {
	id = ekrip.29
	hide_window = yes
	is_triggered_only = yes

	immediate = { province_event = { id = ekrip.54 days = 100 random = 250 } } 
}

province_event = {
	id = ekrip.54
	hide_window = yes
	is_triggered_only = yes

	immediate = { owner = { narrative_event = { id = ekrip.79 } } }
}

narrative_event = {
	id = ekrip.79
	title = EKRip79Title
	picture = GFX_evt_danse_macabre
	border = GFX_event_narrative_frame_religion

	desc = EKRip79Desc

	is_triggered_only = yes
	hide_from = yes

	major = yes
	
	option = {
		name = EVTOPTA_RIP_10015
	}
}

# Knahaten Flu has ravaged Atmora
province_event = {
	id = ekrip.30
	hide_window = yes
	is_triggered_only = yes

	immediate = { province_event = { id = ekrip.55 days = 100 random = 250 } } 
}

province_event = {
	id = ekrip.55
	hide_window = yes
	is_triggered_only = yes

	immediate = { owner = { narrative_event = { id = ekrip.80 } } }
}

narrative_event = {
	id = ekrip.80
	title = EKRip80Title
	picture = GFX_evt_danse_macabre
	border = GFX_event_narrative_frame_religion

	desc = EKRip80Desc

	is_triggered_only = yes
	hide_from = yes

	major = yes
	
	option = {
		name = EVTOPTA_RIP_10015
	}
}

# Knahaten Flu has ravaged Roscrea
province_event = {
	id = ekrip.31
	hide_window = yes
	is_triggered_only = yes

	immediate = { province_event = { id = ekrip.56 days = 100 random = 250 } } 
}

province_event = {
	id = ekrip.56
	hide_window = yes
	is_triggered_only = yes

	immediate = { owner = { narrative_event = { id = ekrip.81 } } }
}

narrative_event = {
	id = ekrip.81
	title = EKRip81Title
	picture = GFX_evt_danse_macabre
	border = GFX_event_narrative_frame_religion

	desc = EKRip81Desc

	is_triggered_only = yes
	hide_from = yes

	major = yes
	
	option = {
		name = EVTOPTA_RIP_10015
	}
}

# Knahaten Flu has ravaged Yokuda
province_event = {
	id = ekrip.32
	hide_window = yes
	is_triggered_only = yes

	immediate = { province_event = { id = ekrip.57 days = 100 random = 250 } } 
}

province_event = {
	id = ekrip.57
	hide_window = yes
	is_triggered_only = yes

	immediate = { owner = { narrative_event = { id = ekrip.82 } } }
}

narrative_event = {
	id = ekrip.82
	title = EKRip82Title
	picture = GFX_evt_danse_macabre
	border = GFX_event_narrative_frame_religion

	desc = EKRip82Desc

	is_triggered_only = yes
	hide_from = yes

	major = yes
	
	option = {
		name = EVTOPTA_RIP_10015
	}
}

###Symptom Events###

#Swamp Rot: fever cramps fatigue malaise
character_event = { 
	id = ekrip.200
	
	trigger = {
		has_character_flag = got_swamp_rot
	}
	
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			100 = {
				modifier = {
					factor = 0
					trait = fever
					trait = cramps
					trait = fatigue
					trait = malaise
				}
				add_swamp_rot_symptom_effect = yes
			}
			50 = {
				modifier = {
					factor = 0
					NOR = {
						trait = fever
						trait = cramps
						trait = fatigue
						trait = malaise
					}
				}
				character_event = { id = ekrip.205 }
			}
		}
	}
}

#Swamp Rot: fever cramps fatigue malaise
character_event = { 
	id = ekrip.205
	desc = EKRip205Desc
	picture = GFX_evt_illness
	border = GFX_event_normal_frame_religion
	
	hide_from = yes
	
	is_triggered_only = yes
	
	option = {
		name = ALAS
		add_trait = has_swamp_rot
		set_character_flag = manifest_swamp_rot
		add_disease_level_effect = yes
		#blessing_removes_disease_effect = yes
		
		clr_character_flag = developing_illness
		clr_character_flag = got_swamp_rot
		if = {
			limit = {
				trait = fever
			}
			remove_trait = fever
		}
		if = {
			limit = {
				trait = cramps
			}
			remove_trait = cramps
		}
		if = {
			limit = {
				trait = fatigue
			}
			remove_trait = fatigue
		}
		if = {
			limit = {
				trait = malaise
			}
			remove_trait = malaise
		}
		hidden_tooltip = {
			if = {
				limit = {
					is_unimportant_trigger = yes
				}
				health = -3
			}
			if = { 
				limit = { is_playable = no }
				host = {
					random_courtier_or_vassal = { #Markus doing
						limit = {
							liege = { character = PREVPREV }
							has_minor_title = title_court_physician
						}
						character_event = { id = RIP.11031 days = 1 }
					}
				}
			}
			if = { 
				limit = { is_playable = yes }
				random_courtier_or_vassal = { #Markus doing
					limit = {
						has_minor_title = title_court_physician
					}
					character_event = { id = RIP.11031 days = 1 }
				}
			}
			father = {
				if = {
					limit = { 
						ai = no 
						is_liege_of = ROOT
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_swamp_rot
					character_event = { id = RIP.5060 }
				}
			}
			mother = {
				if = {
					limit = { 
						ai = no 
						is_liege_of = ROOT
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_swamp_rot
					character_event = { id = RIP.5060 }
				}
			}
			spouse = {
				if = {
					limit = { 
						ai = no
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_swamp_rot
					character_event = { id = RIP.5060 }
				}
			}
		}
	}
}

#Cholera: diarrhea vomiting fever abdominal_pain
character_event = { 
	id = ekrip.210
	
	trigger = {
		has_character_flag = got_cholera
	}
	
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			100 = {
				modifier = {
					factor = 0
					trait = diarrhea
					trait = vomiting
					trait = fever
					trait = abdominal_pain
				}
				add_cholera_symptom_effect = yes #Disease effect
			}
			50 = {
				modifier = {
					factor = 0
					NOR = {
						trait = diarrhea
						trait = vomiting
						trait = fever
						trait = abdominal_pain
					}
				}
				character_event = { id = ekrip.215 days = 20 random = 20} #Disease develops
			}
		}
	}
}

#Cholera: diarrhea vomiting fever abdominal_pain
character_event = { 
	id = ekrip.215
	desc = EKRip215Desc
	picture = GFX_evt_illness
	border = GFX_event_normal_frame_religion
	
	hide_from = yes
	
	is_triggered_only = yes
	
	option = {
		name = ALAS
		add_trait = cholera
		set_character_flag = manifest_cholera
		add_disease_level_effect = yes
		#blessing_removes_disease_effect = yes
		
		clr_character_flag = developing_illness
		clr_character_flag = got_cholera
		if = {
			limit = {
				trait = fever
			}
			remove_trait = fever
		}
		if = {
			limit = {
				trait = diarrhea
			}
			remove_trait = diarrhea
		}
		if = {
			limit = {
				trait = vomiting
			}
			remove_trait = vomiting
		}
		if = {
			limit = {
				trait = abdominal_pain
			}
			remove_trait = abdominal_pain
		}
		hidden_tooltip = {
			if = {
				limit = {
					is_unimportant_trigger = yes
				}
				health = -3
			}
			if = { 
				limit = { is_playable = no }
				host = {
					random_courtier_or_vassal = { #Markus doing
						limit = {
							liege = { character = PREVPREV }
							has_minor_title = title_court_physician
						}
						character_event = { id = RIP.11031 days = 1 }
					}
				}
			}
			if = { 
				limit = { is_playable = yes }
				random_courtier_or_vassal = { #Markus doing
					limit = {
						has_minor_title = title_court_physician
					}
					character_event = { id = RIP.11031 days = 1 }
				}
			}
			father = {
				if = {
					limit = { 
						ai = no 
						is_liege_of = ROOT
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_cholera
					character_event = { id = RIP.5060 }
				}
			}
			mother = {
				if = {
					limit = { 
						ai = no 
						is_liege_of = ROOT
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_cholera
					character_event = { id = RIP.5060 }
				}
			}
			spouse = {
				if = {
					limit = { 
						ai = no
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_cholera
					character_event = { id = RIP.5060 }
				}
			}
		}
	}
}

#Dampworm: fever cramps fatigue malaise
character_event = { 
	id = ekrip.220
	
	trigger = {
		has_character_flag = got_dampworm
	}
	
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			100 = {
				modifier = {
					factor = 0
					trait = fever
					trait = cramps
					trait = fatigue
					trait = malaise
				}
				add_dampworm_symptom_effect = yes #Disease effect
			}
			50 = {
				modifier = {
					factor = 0
					NOR = {
						trait = fever
						trait = cramps
						trait = fatigue
						trait = malaise
					}
				}
				character_event = { id = ekrip.225 days = 20 random = 20} #Disease develops
			}
		}
	}
}

#Dampworm: fever cramps fatigue malaise
character_event = { 
	id = ekrip.225
	desc = EKRip225Desc
	picture = GFX_evt_illness
	border = GFX_event_normal_frame_religion
	
	hide_from = yes
	
	is_triggered_only = yes
	
	option = {
		name = ALAS
		add_trait = dampworm
		set_character_flag = manifest_dampworm
		add_disease_level_effect = yes
		#blessing_removes_disease_effect = yes
		
		clr_character_flag = developing_illness
		clr_character_flag = got_dampworm
		if = {
			limit = {
				trait = fever
			}
			remove_trait = fever
		}
		if = {
			limit = {
				trait = cramps
			}
			remove_trait = cramps
		}
		if = {
			limit = {
				trait = fatigue
			}
			remove_trait = fatigue
		}
		if = {
			limit = {
				trait = malaise
			}
			remove_trait = malaise
		}
		hidden_tooltip = {
			if = {
				limit = {
					is_unimportant_trigger = yes
				}
				health = -3
			}
			if = { 
				limit = { is_playable = no }
				host = {
					random_courtier_or_vassal = { #Markus doing
						limit = {
							liege = { character = PREVPREV }
							has_minor_title = title_court_physician
						}
						character_event = { id = RIP.11031 days = 1 }
					}
				}
			}
			if = { 
				limit = { is_playable = yes }
				random_courtier_or_vassal = { #Markus doing
					limit = {
						has_minor_title = title_court_physician
					}
					character_event = { id = RIP.11031 days = 1 }
				}
			}
			father = {
				if = {
					limit = { 
						ai = no 
						is_liege_of = ROOT
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_dampworm
					character_event = { id = RIP.5060 }
				}
			}
			mother = {
				if = {
					limit = { 
						ai = no 
						is_liege_of = ROOT
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_dampworm
					character_event = { id = RIP.5060 }
				}
			}
			spouse = {
				if = {
					limit = { 
						ai = no
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_dampworm
					character_event = { id = RIP.5060 }
				}
			}
		}
	}
}

#Witches Pox: fever rash fatigue malaise
character_event = { 
	id = ekrip.230
	
	trigger = {
		has_character_flag = got_witches_pox
	}
	
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			100 = {
				modifier = {
					factor = 0
					trait = fever
					trait = rash
					trait = fatigue
					trait = malaise
				}
				add_witches_pox_symptom_effect = yes #Disease effect
			}
			50 = {
				modifier = {
					factor = 0
					NOR = {
						trait = fever
						trait = rash
						trait = fatigue
						trait = malaise
					}
				}
				character_event = { id = ekrip.235 days = 20 random = 20} #Disease develops
			}
		}
	}
}

#Witches Pox: fever rash fatigue malaise
character_event = { 
	id = ekrip.235
	desc = EKRip235Desc
	picture = GFX_evt_illness
	border = GFX_event_normal_frame_religion
	
	hide_from = yes
	
	is_triggered_only = yes
	
	option = {
		name = ALAS
		add_trait = witches_pox
		set_character_flag = manifest_witches_pox
		add_disease_level_effect = yes
		#blessing_removes_disease_effect = yes
		
		clr_character_flag = developing_illness
		clr_character_flag = got_witches_pox
		if = {
			limit = {
				trait = fever
			}
			remove_trait = fever
		}
		if = {
			limit = {
				trait = rash
			}
			remove_trait = rash
		}
		if = {
			limit = {
				trait = fatigue
			}
			remove_trait = fatigue
		}
		if = {
			limit = {
				trait = malaise
			}
			remove_trait = malaise
		}
		hidden_tooltip = {
			if = {
				limit = {
					is_unimportant_trigger = yes
				}
				health = -3
			}
			if = { 
				limit = { is_playable = no }
				host = {
					random_courtier_or_vassal = { #Markus doing
						limit = {
							liege = { character = PREVPREV }
							has_minor_title = title_court_physician
						}
						character_event = { id = RIP.11031 days = 1 }
					}
				}
			}
			if = { 
				limit = { is_playable = yes }
				random_courtier_or_vassal = { #Markus doing
					limit = {
						has_minor_title = title_court_physician
					}
					character_event = { id = RIP.11031 days = 1 }
				}
			}
			father = {
				if = {
					limit = { 
						ai = no 
						is_liege_of = ROOT
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_witches_pox
					character_event = { id = RIP.5060 }
				}
			}
			mother = {
				if = {
					limit = { 
						ai = no 
						is_liege_of = ROOT
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_witches_pox
					character_event = { id = RIP.5060 }
				}
			}
			spouse = {
				if = {
					limit = { 
						ai = no
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_witches_pox
					character_event = { id = RIP.5060 }
				}
			}
		}
	}
}

#Greenspore: fever headache chest_pain malaise
character_event = { 
	id = ekrip.240
	
	trigger = {
		has_character_flag = got_greenspore
	}
	
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			100 = {
				modifier = {
					factor = 0
					trait = fever
					trait = headache
					trait = chest_pain
					trait = malaise
				}
				add_greenspore_symptom_effect = yes #Disease effect
			}
			50 = {
				modifier = {
					factor = 0
					NOR = {
						trait = fever
						trait = headache
						trait = chest_pain
						trait = malaise
					}
				}
				character_event = { id = ekrip.245 days = 20 random = 20} #Disease develops
			}
		}
	}
}

#Greenspore: fever headache chest_pain malaise
character_event = { 
	id = ekrip.245
	desc = EKRip245Desc
	picture = GFX_evt_illness
	border = GFX_event_normal_frame_religion
	
	hide_from = yes
	
	is_triggered_only = yes
	
	option = {
		name = ALAS
		add_trait = greenspore
		set_character_flag = manifest_greenspore
		add_disease_level_effect = yes
		#blessing_removes_disease_effect = yes
		
		clr_character_flag = developing_illness
		clr_character_flag = got_greenspore
		if = {
			limit = {
				trait = fever
			}
			remove_trait = fever
		}
		if = {
			limit = {
				trait = headache
			}
			remove_trait = headache
		}
		if = {
			limit = {
				trait = chest_pain
			}
			remove_trait = chest_pain
		}
		if = {
			limit = {
				trait = malaise
			}
			remove_trait = malaise
		}
		hidden_tooltip = {
			if = {
				limit = {
					is_unimportant_trigger = yes
				}
				health = -3
			}
			if = { 
				limit = { is_playable = no }
				host = {
					random_courtier_or_vassal = { #Markus doing
						limit = {
							liege = { character = PREVPREV }
							has_minor_title = title_court_physician
						}
						character_event = { id = RIP.11031 days = 1 }
					}
				}
			}
			if = { 
				limit = { is_playable = yes }
				random_courtier_or_vassal = { #Markus doing
					limit = {
						has_minor_title = title_court_physician
					}
					character_event = { id = RIP.11031 days = 1 }
				}
			}
			father = {
				if = {
					limit = { 
						ai = no 
						is_liege_of = ROOT
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_greenspore
					character_event = { id = RIP.5060 }
				}
			}
			mother = {
				if = {
					limit = { 
						ai = no 
						is_liege_of = ROOT
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_greenspore
					character_event = { id = RIP.5060 }
				}
			}
			spouse = {
				if = {
					limit = { 
						ai = no 
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_greenspore
					character_event = { id = RIP.5060 }
				}
			}
		}
	}
}

#Rockjoint: fever headache fatigue malaise
character_event = { 
	id = ekrip.250
	
	trigger = {
		has_character_flag = got_rockjoint
	}
	
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			100 = {
				modifier = {
					factor = 0
					trait = fever
					trait = headache
					trait = fatigue
					trait = malaise
				}
				add_rockjoint_symptom_effect = yes #Disease effect
			}
			50 = {
				modifier = {
					factor = 0
					NOR = {
						trait = fever
						trait = headache
						trait = fatigue
						trait = malaise
					}
				}
				character_event = { id = ekrip.255 days = 20 random = 20} #Disease develops
			}
		}
	}
}

#Rockjoint: fever headache fatigue malaise
character_event = { 
	id = ekrip.255
	desc = EKRip255Desc
	picture = GFX_evt_illness
	border = GFX_event_normal_frame_religion
	
	hide_from = yes
	
	is_triggered_only = yes
	
	option = {
		name = ALAS
		add_trait = rockjoint
		set_character_flag = manifest_rockjoint
		add_disease_level_effect = yes
		#blessing_removes_disease_effect = yes
		
		clr_character_flag = developing_illness
		clr_character_flag = got_rockjoint
		if = {
			limit = {
				trait = fever
			}
			remove_trait = fever
		}
		if = {
			limit = {
				trait = headache
			}
			remove_trait = headache
		}
		if = {
			limit = {
				trait = fatigue
			}
			remove_trait = fatigue
		}
		if = {
			limit = {
				trait = malaise
			}
			remove_trait = malaise
		}
		hidden_tooltip = {
			if = {
				limit = {
					is_unimportant_trigger = yes
				}
				health = -3
			}
			if = { 
				limit = { is_playable = no }
				host = {
					random_courtier_or_vassal = { #Markus doing
						limit = {
							liege = { character = PREVPREV }
							has_minor_title = title_court_physician
						}
						character_event = { id = RIP.11031 days = 1 }
					}
				}
			}
			if = { 
				limit = { is_playable = yes }
				random_courtier_or_vassal = { #Markus doing
					limit = {
						has_minor_title = title_court_physician
					}
					character_event = { id = RIP.11031 days = 1 }
				}
			}
			father = {
				if = {
					limit = { 
						ai = no 
						is_liege_of = ROOT
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_rockjoint
					character_event = { id = RIP.5060 }
				}
			}
			mother = {
				if = {
					limit = { 
						ai = no 
						is_liege_of = ROOT
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_rockjoint
					character_event = { id = RIP.5060 }
				}
			}
			spouse = {
				if = {
					limit = { 
						ai = no
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_rockjoint
					character_event = { id = RIP.5060 }
				}
			}
		}
	}
}

#Stomach Rot: fever diarrhea vomiting abdominal_pain
character_event = { 
	id = ekrip.260
	
	trigger = {
		has_character_flag = got_stomach_rot
	}
	
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			100 = {
				modifier = {
					factor = 0
					trait = fever
					trait = diarrhea
					trait = vomiting
					trait = abdominal_pain
				}
				add_stomach_rot_symptom_effect = yes #Disease effect
			}
			50 = {
				modifier = {
					factor = 0
					NOR = {
						trait = fever
						trait = diarrhea
						trait = vomiting
						trait = abdominal_pain
					}
				}
				character_event = { id = ekrip.265 days = 20 random = 20} #Disease develops
			}
		}
	}
}

#Stomach Rot: fever diarrhea vomiting abdominal_pain
character_event = { 
	id = ekrip.265
	desc = EKRip265Desc
	picture = GFX_evt_illness
	border = GFX_event_normal_frame_religion
	
	hide_from = yes
	
	is_triggered_only = yes
	
	option = {
		name = ALAS
		add_trait = stomach_rot
		set_character_flag = manifest_stomach_rot
		add_disease_level_effect = yes
		#blessing_removes_disease_effect = yes
		
		clr_character_flag = developing_illness
		clr_character_flag = got_stomach_rot
		if = {
			limit = {
				trait = fever
			}
			remove_trait = fever
		}
		if = {
			limit = {
				trait = diarrhea
			}
			remove_trait = diarrhea
		}
		if = {
			limit = {
				trait = vomiting
			}
			remove_trait = vomiting
		}
		if = {
			limit = {
				trait = abdominal_pain
			}
			remove_trait = abdominal_pain
		}
		hidden_tooltip = {
			if = {
				limit = {
					is_unimportant_trigger = yes
				}
				health = -3
			}
			if = { 
				limit = { is_playable = no }
				host = {
					random_courtier_or_vassal = { #Markus doing
						limit = {
							liege = { character = PREVPREV }
							has_minor_title = title_court_physician
						}
						character_event = { id = RIP.11031 days = 1 }
					}
				}
			}
			if = { 
				limit = { is_playable = yes }
				random_courtier_or_vassal = { #Markus doing
					limit = {
						has_minor_title = title_court_physician
					}
					character_event = { id = RIP.11031 days = 1 }
				}
			}
			father = {
				if = {
					limit = { 
						ai = no 
						is_liege_of = ROOT
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_stomach_rot
					character_event = { id = RIP.5060 }
				}
			}
			mother = {
				if = {
					limit = { 
						ai = no 
						is_liege_of = ROOT
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_stomach_rot
					character_event = { id = RIP.5060 }
				}
			}
			spouse = {
				if = {
					limit = { 
						ai = no 
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_stomach_rot
					character_event = { id = RIP.5060 }
				}
			}
		}
	}
}

#Chrondiasis: fever cough headache chest_pain
character_event = { 
	id = ekrip.270
	
	trigger = {
		has_character_flag = got_chrondiasis
	}
	
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			100 = {
				modifier = {
					factor = 0
					trait = fever
					trait = cough
					trait = headache
					trait = chest_pain
				}
				add_chrondiasis_symptom_effect = yes #Disease effect
			}
			50 = {
				modifier = {
					factor = 0
					NOR = {
						trait = fever
						trait = cough
						trait = headache
						trait = chest_pain
					}
				}
				character_event = { id = ekrip.275 days = 20 random = 20} #Disease develops
			}
		}
	}
}

#Chrondiasis: fever cough headache chest_pain
character_event = { 
	id = ekrip.275
	desc = EKRip275Desc
	picture = GFX_evt_illness
	border = GFX_event_normal_frame_religion
	
	hide_from = yes
	
	is_triggered_only = yes
	
	option = {
		name = ALAS
		add_trait = chrondiasis
		set_character_flag = manifest_chrondiasis
		add_disease_level_effect = yes
		#blessing_removes_disease_effect = yes
		
		clr_character_flag = developing_illness
		clr_character_flag = got_chrondiasis
		if = {
			limit = {
				trait = fever
			}
			remove_trait = fever
		}
		if = {
			limit = {
				trait = cough
			}
			remove_trait = cough
		}
		if = {
			limit = {
				trait = headache
			}
			remove_trait = headache
		}
		if = {
			limit = {
				trait = chest_pain
			}
			remove_trait = chest_pain
		}
		hidden_tooltip = {
			if = {
				limit = {
					is_unimportant_trigger = yes
				}
				health = -3
			}
			if = { 
				limit = { is_playable = no }
				host = {
					random_courtier_or_vassal = { #Markus doing
						limit = {
							liege = { character = PREVPREV }
							has_minor_title = title_court_physician
						}
						character_event = { id = RIP.11031 days = 1 }
					}
				}
			}
			if = { 
				limit = { is_playable = yes }
				random_courtier_or_vassal = { #Markus doing
					limit = {
						has_minor_title = title_court_physician
					}
					character_event = { id = RIP.11031 days = 1 }
				}
			}
			father = {
				if = {
					limit = { 
						ai = no 
						is_liege_of = ROOT
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_chrondiasis
					character_event = { id = RIP.5060 }
				}
			}
			mother = {
				if = {
					limit = { 
						ai = no 
						is_liege_of = ROOT
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_chrondiasis
					character_event = { id = RIP.5060 }
				}
			}
			spouse = {
				if = {
					limit = { 
						ai = no
						NOT = { has_character_modifier = in_seclusion }
					}
					set_character_flag = announce_chrondiasis
					character_event = { id = RIP.5060 }
				}
			}
		}
	}
}

#Disease treatments

# Removing Swamp Rot
character_event = {
	id = ekrip.300
	picture = GFX_evt_recovery
	desc = EKRip300Desc
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = has_swamp_rot
		has_dlc = "Reapers"
		OR = {
			had_character_flag = { flag = manifest_swamp_rot days = 60 }
			NOT = { has_character_flag = manifest_swamp_rot }
		}
	}
	
	mean_time_to_happen = {
		months = 12
		
		modifier = {
			factor = 0.75
			base_health = 5.1
		}
		modifier = {
			factor = 0.5
			base_health = 6.0
		}
		modifier = {
			factor = 0.5
			base_health = 7.0
		}
		modifier = {
			factor = 1.5
			NOT = { base_health = 5.0 }
		}
		modifier = {
			factor = 2.0
			NOT = { base_health = 4.1 }
		}
		modifier = {
			factor = 0.66
			NOT = { age = 20 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 40 }
		}
		modifier = {
			factor = 2.0
			age = 50
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 70
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 225
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			age = 250
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			is_ill = yes
		}
		modifier = {
			factor = 4.0
			trait = infirm
		}
		modifier = {
			factor = 5.0
			trait = incapable
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = has_swamp_rot
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_swamp_rot
		clr_character_flag = manifest_swamp_rot
		set_character_flag = immune_swamp_rot
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}

#Recovery from Cholera
character_event = {
	id = ekrip.310
	picture = GFX_evt_recovery
	desc = EKRip310Desc
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = cholera 
		has_dlc = "Reapers"
		OR = {
			had_character_flag = { flag = manifest_cholera days = 30 } 
			NOT = { has_character_flag = manifest_cholera }
		}
	}
	
	mean_time_to_happen = {
		months = 6
		modifier = {
			factor = 0.75
			base_health = 5.1
		}
		modifier = {
			factor = 0.5
			base_health = 6.0
		}
		modifier = {
			factor = 0.5
			base_health = 7.0
		}
		modifier = {
			factor = 1.5
			NOT = { base_health = 5.0 }
		}
		modifier = {
			factor = 2.0
			NOT = { base_health = 4.1 }
		}
		modifier = {
			factor = 0.66
			NOT = { age = 20 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 40 }
		}
		modifier = {
			factor = 2.0
			age = 50
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 70
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 225
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			age = 250
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			is_ill = yes
		}
		modifier = {
			factor = 4.0
			trait = infirm
		}
		modifier = {
			factor = 5.0
			trait = incapable
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = cholera
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_cholera
		clr_character_flag = manifest_cholera
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}

#Recovery from Dampworm
character_event = {
	id = ekrip.320
	picture = GFX_evt_recovery
	desc = EKRip320Desc
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = dampworm
		has_dlc = "Reapers"
		OR = {
			had_character_flag = { flag = manifest_dampworm days = 30 } 
			NOT = { has_character_flag = manifest_dampworm }
		}
	}
	
	mean_time_to_happen = {
		months = 6
		modifier = {
			factor = 0.75
			base_health = 5.1
		}
		modifier = {
			factor = 0.5
			base_health = 6.0
		}
		modifier = {
			factor = 0.5
			base_health = 7.0
		}
		modifier = {
			factor = 1.5
			NOT = { base_health = 5.0 }
		}
		modifier = {
			factor = 2.0
			NOT = { base_health = 4.1 }
		}
		modifier = {
			factor = 0.66
			NOT = { age = 20 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 40 }
		}
		modifier = {
			factor = 2.0
			age = 50
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 70
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 225
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			age = 250
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			is_ill = yes
		}
		modifier = {
			factor = 4.0
			trait = infirm
		}
		modifier = {
			factor = 5.0
			trait = incapable
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = dampworm
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_dampworm
		clr_character_flag = manifest_dampworm
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}

#Recovery from Witches Pox
character_event = {
	id = ekrip.330
	picture = GFX_evt_recovery
	desc = EKRip330Desc
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = witches_pox
		has_dlc = "Reapers"
		OR = {
			had_character_flag = { flag = manifest_witches_pox days = 30 } 
			NOT = { has_character_flag = manifest_witches_pox }
		}
	}
	
	mean_time_to_happen = {
		months = 6
		modifier = {
			factor = 0.75
			base_health = 5.1
		}
		modifier = {
			factor = 0.5
			base_health = 6.0
		}
		modifier = {
			factor = 0.5
			base_health = 7.0
		}
		modifier = {
			factor = 1.5
			NOT = { base_health = 5.0 }
		}
		modifier = {
			factor = 2.0
			NOT = { base_health = 4.1 }
		}
		modifier = {
			factor = 0.66
			NOT = { age = 20 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 40 }
		}
		modifier = {
			factor = 2.0
			age = 50
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 70
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 225
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			age = 250
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			is_ill = yes
		}
		modifier = {
			factor = 4.0
			trait = infirm
		}
		modifier = {
			factor = 5.0
			trait = incapable
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = witches_pox
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_witches_pox
		clr_character_flag = manifest_witches_pox
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}

#Recovery from Greenspore
character_event = {
	id = ekrip.340
	picture = GFX_evt_recovery
	desc = EKRip340Desc
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = greenspore
		has_dlc = "Reapers"
		OR = {
			had_character_flag = { flag = manifest_greenspore days = 30 } 
			NOT = { has_character_flag = manifest_greenspore }
		}
	}
	
	mean_time_to_happen = {
		months = 6
		modifier = {
			factor = 0.75
			base_health = 5.1
		}
		modifier = {
			factor = 0.5
			base_health = 6.0
		}
		modifier = {
			factor = 0.5
			base_health = 7.0
		}
		modifier = {
			factor = 1.5
			NOT = { base_health = 5.0 }
		}
		modifier = {
			factor = 2.0
			NOT = { base_health = 4.1 }
		}
		modifier = {
			factor = 0.66
			NOT = { age = 20 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 40 }
		}
		modifier = {
			factor = 2.0
			age = 50
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 70
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 225
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			age = 250
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			is_ill = yes
		}
		modifier = {
			factor = 4.0
			trait = infirm
		}
		modifier = {
			factor = 5.0
			trait = incapable
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = greenspore
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_greenspore
		clr_character_flag = manifest_greenspore
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}

#Recovery from Rockjoint
character_event = {
	id = ekrip.350
	picture = GFX_evt_recovery
	desc = EKRip350Desc
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = rockjoint
		has_dlc = "Reapers"
		OR = {
			had_character_flag = { flag = manifest_rockjoint days = 30 } 
			NOT = { has_character_flag = manifest_rockjoint }
		}
	}
	
	mean_time_to_happen = {
		months = 6
		modifier = {
			factor = 0.75
			base_health = 5.1
		}
		modifier = {
			factor = 0.5
			base_health = 6.0
		}
		modifier = {
			factor = 0.5
			base_health = 7.0
		}
		modifier = {
			factor = 1.5
			NOT = { base_health = 5.0 }
		}
		modifier = {
			factor = 2.0
			NOT = { base_health = 4.1 }
		}
		modifier = {
			factor = 0.66
			NOT = { age = 20 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 40 }
		}
		modifier = {
			factor = 2.0
			age = 50
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 70
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 225
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			age = 250
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			is_ill = yes
		}
		modifier = {
			factor = 4.0
			trait = infirm
		}
		modifier = {
			factor = 5.0
			trait = incapable
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = rockjoint
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_rockjoint
		clr_character_flag = manifest_rockjoint
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}

#Recovery from Stomach Rot
character_event = {
	id = ekrip.360
	picture = GFX_evt_recovery
	desc = EKRip360Desc
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = stomach_rot
		has_dlc = "Reapers"
		OR = {
			had_character_flag = { flag = manifest_stomach_rot days = 30 } 
			NOT = { has_character_flag = manifest_stomach_rot }
		}
	}
	
	mean_time_to_happen = {
		months = 6
		modifier = {
			factor = 0.75
			base_health = 5.1
		}
		modifier = {
			factor = 0.5
			base_health = 6.0
		}
		modifier = {
			factor = 0.5
			base_health = 7.0
		}
		modifier = {
			factor = 1.5
			NOT = { base_health = 5.0 }
		}
		modifier = {
			factor = 2.0
			NOT = { base_health = 4.1 }
		}
		modifier = {
			factor = 0.66
			NOT = { age = 20 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 40 }
		}
		modifier = {
			factor = 2.0
			age = 50
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 70
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 225
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			age = 250
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			is_ill = yes
		}
		modifier = {
			factor = 4.0
			trait = infirm
		}
		modifier = {
			factor = 5.0
			trait = incapable
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = stomach_rot
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_stomach_rot
		clr_character_flag = manifest_stomach_rot
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}

#Recovery from Chrondiasis
character_event = {
	id = ekrip.370
	picture = GFX_evt_recovery
	desc = EKRip370Desc
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = chrondiasis
		has_dlc = "Reapers"
		OR = {
			had_character_flag = { flag = manifest_chrondiasis days = 30 } 
			NOT = { has_character_flag = manifest_chrondiasis }
		}
	}
	
	mean_time_to_happen = {
		months = 6
		modifier = {
			factor = 0.75
			base_health = 5.1
		}
		modifier = {
			factor = 0.5
			base_health = 6.0
		}
		modifier = {
			factor = 0.5
			base_health = 7.0
		}
		modifier = {
			factor = 1.5
			NOT = { base_health = 5.0 }
		}
		modifier = {
			factor = 2.0
			NOT = { base_health = 4.1 }
		}
		modifier = {
			factor = 0.66
			NOT = { age = 20 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 40 }
		}
		modifier = {
			factor = 2.0
			age = 50
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 70
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 225
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			age = 250
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			is_ill = yes
		}
		modifier = {
			factor = 4.0
			trait = infirm
		}
		modifier = {
			factor = 5.0
			trait = incapable
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = chrondiasis
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_chrondiasis
		clr_character_flag = manifest_chrondiasis
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}

#Recovery from Swamp Rot
character_event = {
	id = ekrip.500
	desc = EVTDESC6118
	picture = GFX_evt_recovery
	border = GFX_event_normal_frame_religion
	
	lacks_dlc = "Reapers"
	
	trigger = {
		trait = has_swamp_rot
	}
	
	mean_time_to_happen = {
		months = 2
		modifier = {
			factor = 0.75
			base_health = 5.1
		}
		modifier = {
			factor = 0.5
			base_health = 6.0
		}
		modifier = {
			factor = 0.5
			base_health = 7.0
		}
		modifier = {
			factor = 1.5
			NOT = { base_health = 5.0 }
		}
		modifier = {
			factor = 2.0
			NOT = { base_health = 4.1 }
		}
		modifier = {
			factor = 0.66
			NOT = { age = 20 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 40 }
		}
		modifier = {
			factor = 2.0
			age = 50
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 70
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 225
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			age = 250
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			is_ill = yes
		}
		modifier = {
			factor = 4.0
			trait = infirm
		}
		modifier = {
			factor = 5.0
			trait = incapable
		}
	}
	
	option = {
		name = EVTOPTA6118
		remove_trait = has_swamp_rot
	}
}

#Knahaten Flu: cough fever rash fatigue
character_event = { 
	id = ekrip.510
	
	trigger = {
		has_character_flag = got_knahaten_flu
	}
	
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		random_list = {
			100 = {
				modifier = {
					factor = 0
					trait = cough
					trait = fever
					trait = rash
					trait = fatigue
				}
				add_knahaten_flu_symptom_effect = yes
			}
			50 = {
				modifier = {
					factor = 0
					NOR = {
						trait = cough
						trait = fever
						trait = rash
						trait = fatigue
					}
				}
				character_event = { id = ekrip.511 }
			}
		}
	}
}

#Knahaten Flu: cough fever rash fatigue
character_event = { 
	id = ekrip.511
	desc = EVTDESCEKRIP.511
	picture = GFX_evt_illness
	border = GFX_event_normal_frame_religion
	
	hide_from = yes
	
	is_triggered_only = yes
	
	option = {
		name = ALAS
		add_trait = has_knahaten_flu
		set_character_flag = manifest_knahaten_flu
		add_disease_level_effect = yes
		#blessing_removes_disease_effect = yes
		
		clr_character_flag = developing_illness
		clr_character_flag = got_knahaten_flu
		if = {
			limit = {
				trait = cough
			}
			remove_trait = cough
		}
		if = {
			limit = {
				trait = fever
			}
			remove_trait = fever
		}
		if = {
			limit = {
				trait = rash
			}
			remove_trait = rash
		}
		if = {
			limit = {
				trait = fatigue
			}
			remove_trait = fatigue
		}
		hidden_tooltip = {
			if = { 
				limit = { is_playable = no }
				host = {
					random_courtier_or_vassal = { #Markus doing
						limit = {
							liege = { character = PREVPREV }
							has_minor_title = title_court_physician
						}
						character_event = { id = RIP.11031 days = 1 }
					}
				}
			}
			if = { 
				limit = { is_playable = yes }
				random_courtier_or_vassal = { #Markus doing
					limit = {
						has_minor_title = title_court_physician
					}
					character_event = { id = RIP.11031 days = 1 }
				}
			}
			father = {
				if = {
					limit = { 
						ai = no 
						is_liege_of = ROOT
					}
					set_character_flag = announce_knahaten_flu
					character_event = { id = RIP.5060 }
				}
			}
			mother = {
				if = {
					limit = { 
						ai = no 
						is_liege_of = ROOT
					}
					set_character_flag = announce_knahaten_flu
					character_event = { id = RIP.5060 }
				}
			}
			spouse = {
				if = {
					limit = { ai = no }
					set_character_flag = announce_knahaten_flu
					character_event = { id = RIP.5060 }
				}
			}	
		}
	}
}

# Removing Knahaten Flu
character_event = {
	id = ekrip.520
	picture = GFX_evt_recovery
	desc = EVTDESC_EKRIP_520
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = has_knahaten_flu
		has_dlc = "Reapers"
		OR = {
			had_character_flag = { flag = manifest_knahaten_flu days = 30 }
			NOT = { has_character_flag = manifest_knahaten_flu }
		}
	}
	
	mean_time_to_happen = {
		months = 3
		modifier = {
			factor = 0.75
			base_health = 5.1
		}
		modifier = {
			factor = 0.5
			base_health = 6.0
		}
		modifier = {
			factor = 0.5
			base_health = 7.0
		}
		modifier = {
			factor = 1.5
			NOT = { base_health = 5.0 }
		}
		modifier = {
			factor = 2.0
			NOT = { base_health = 4.1 }
		}
		modifier = {
			factor = 0.66
			NOT = { age = 20 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 40 }
		}
		modifier = {
			factor = 2.0
			age = 50
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 70
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 225
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			age = 250
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			is_ill = yes
		}
		modifier = {
			factor = 4.0
			trait = infirm
		}
		modifier = {
			factor = 5.0
			trait = incapable
		}
	}

	option = {
		name = EVTOPTA_EKRIP_520
		remove_trait = has_knahaten_flu
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_knahaten_flu
		clr_character_flag = manifest_knahaten_flu
		set_character_flag = immune_knahaten_flu
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}