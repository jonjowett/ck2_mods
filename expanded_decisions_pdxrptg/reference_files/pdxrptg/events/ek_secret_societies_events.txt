namespace = eksecretive

#Events for Secret Societies - the Dark Brotherhood, Morag Tong, Thieves Guild and Camonna Tong
#Guild joining events based on MNM misc and MNM assassins events

#Contents
#Gathering News - eksecretive 1-5
#Dark Brotherhood - eksecretive 30-70

#Debug Event - Assign known_murderer for easy DB contact
character_event = {
	id = eksecretive.0
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		add_character_modifier = {
			name = known_murderer
			duration = -1
		}
	}
}

#Any news on...?
long_character_event = {
	id = eksecretive.1
	desc =  {
		text = EKSecretive1A
		trigger = {
			interested_in_society = dark_brotherhood_tamriel
		}
	}
	desc =  {
		text = EKSecretive1B
		trigger = {
			interested_in_society = morag_tong_tamriel
		}
	}
	desc =  {
		text = EKSecretive1C
		trigger = {
			interested_in_society = assassin_guild_akavir
		}
	}
	
	picture = GFX_evt_two_moon_aurora
	
	is_triggered_only = yes
	
	option = {
		name = "EKSecretive1Accept"
		custom_tooltip = {
			text = "EKSecretive1AcceptInfo"
			wealth = -20
			hidden_tooltip = {
				long_character_event = { id = eksecretive.5 } 
			}
		}
	}
	option = {
		name = "EKSecretive1Decline"
		custom_tooltip = {
			text = "EKSecretive1DeclineInfo"
		}
	}
}

long_character_event = {
	id = eksecretive.5
	desc =  {
		text = EKSecretive5A
		trigger = {
			interested_in_society = dark_brotherhood_tamriel
		}
	}
	desc =  {
		text = EKSecretive5B
		trigger = {
			interested_in_society = morag_tong_tamriel
		}
	}
	desc =  {
		text = EKSecretive5C
		trigger = {
			interested_in_society = assassin_guild_akavir
		}
	}
	picture = GFX_evt_two_moon_aurora
	
	is_triggered_only = yes
	
	option = {
		name = "EKSecretive5Acknowledge"
		hidden_tooltip = {
			if = {
				limit = { 
					interested_in_society = morag_tong_tamriel 
					NOT = { has_character_flag = searching_for_morag_tong }
				}
				set_character_flag = searching_for_morag_tong
			}
			if = {
				limit = {
					interested_in_society = morag_tong_tamriel 
				}
				character_event = { id = eksecretive.100 }
			}
			
			if = {
				limit = { 
					interested_in_society = assassin_guild_akavir 
					NOT = { has_character_flag = searching_for_assassin_guild_akavir }
				}
				set_character_flag = searching_for_assassin_guild_akavir
			}
			if = {
				limit = {
					interested_in_society = assassin_guild_akavir 
				}
				character_event = { id = eksecretive.130 }
			}
		}
	}
}

#An assassin has been hired
character_event = {
	id = eksecretive.10
	picture = GFX_evt_shadow
	desc = EKSecretive10
	
	is_triggered_only = yes
	
	immediate = {
		society = { save_event_target_as = assassin_guild }
		
		create_random_intriguer = {
			random_traits = yes
			dynasty = NONE
			female = 50
			age = 20
			religion = ROOT
			culture = ROOT
		}
		new_character = {
			#assign_birthsign = yes
			#assign_racial_trait = yes
			remove_trait = agent_1
			remove_trait = agent_2
			remove_trait = agent_3
			remove_trait = agent_4
			remove_trait = agent_5
			random_list = {
				60 = {
					add_trait = agent_3
				}
				40 = {
					add_trait = agent_4
				}
			}
			random_list = {
				15 = {
					add_trait = assassin_2
				}
				10 = {
					add_trait = assassin_3
				}
				15 = {
					add_trait = nightblade_2
				}
				10 = {
					add_trait = nightblade_3
				}
				15 = {
					add_trait = witchhunter_2
				}
				10 = {
					add_trait = witchhunter_3
				}
			}
			remove_trait = craven
			remove_trait = kind
			remove_trait = charitable
			join_society = event_target:assassin_guild
		}
	}
	
	option = {
		name = EKSecretive10Accept
	}
}

#A thief has been hired
character_event = {
	id = eksecretive.15
	picture = GFX_evt_shadow
	desc = EKSecretive15
	
	is_triggered_only = yes
	
	immediate = {
		society = { save_event_target_as = thieves_guild }
		
		create_random_intriguer = {
			random_traits = yes
			dynasty = NONE
			female = no
			age = 50
			religion = ROOT
			culture = ROOT
		}
		new_character = {
			#assign_birthsign = yes
			#assign_racial_trait = yes
			remove_trait = agent_1
			remove_trait = agent_2
			remove_trait = agent_3
			remove_trait = agent_4
			remove_trait = agent_5
			random_list = {
				60 = {
					add_trait = agent_3
				}
				40 = {
					add_trait = agent_4
				}
			}
			random_list = {
				15 = {
					add_trait = thief_2
				}
				10 = {
					add_trait = thief_3
				}
				15 = {
					add_trait = acrobat_2
				}
				10 = {
					add_trait = acrobat_3
				}
				15 = {
					add_trait = bard_2
				}
				10 = {
					add_trait = bard_3
				}
			}
			remove_trait = craven
			remove_trait = honest
			remove_trait = cruel
			join_society = event_target:thieves_guild
		}
	}
	
	option = {
		name = EKSecretive15Accept
	}
}

#DB Recruitment for Known Murderer, based on MNM Misc and MNM Assassins events
long_character_event = {
	id = eksecretive.30
	hide_window = yes
	
	min_age = 16
	capable_only = yes
	prisoner = no
	
	trigger = {
		# Not everyone is fit to join the Dark Brotherhood
		OR = {
			has_character_modifier = known_murderer
			has_character_flag = brotherhood_qualified
			trait = shadowscale
			AND = {
				ai = yes
				trait = impaler
			}
		}
		# Obviously cannot already be in another society
		is_in_society = no
		NOR = { 
			# Character also cannot be in the middle of a recruitment....
			has_character_flag = db_recruiting
			# Nor can they have already refused/failed
			has_character_flag = db_attempted_recruitment
			# Or can they be barred from joining any society
			has_character_flag = society_join_block
		}
		intrigue = 10
		# AI is barred from joining the DB if it's already full
		hidden_trigger = {
			NAND = {
				ai = yes
				is_society_rank_full = { 
					society = dark_brotherhood_tamriel
					rank = 1
				}
			}
		}
		OR = {
			AND = {
				is_ruler = no
				liege = {
					capital_scope = {
						region = nirn_tamriel
					}
				}
			}
			AND = {
				is_ruler = yes
				capital_scope = {
					region = nirn_tamriel
				}
			}
		}
		# Known undead are barred from societies
		NOT = { is_known_undead = yes }
		# Religious leaders cannot join a society
		controls_religion = no
		# They should join the Morag Tong instead
		NOR = {
			religion_group = tribunal
			religion = daedra_mephala
		}
	}
	
	mean_time_to_happen = {
		months = 180
		
		modifier = {
			factor = 0.01
			OR = {
				has_character_modifier = known_murderer
				has_character_flag = brotherhood_qualified
			}
		}
		
		modifier = {
			factor = 0.75
			trait = shadowscale
		}
		
		modifier = {
			factor = 0.8
			interested_in_society = dark_brotherhood_tamriel
		}
		
		modifier = {
			factor = 0.9
			OR = {
				religion_group = hist_group
				religion_group = void_religions
			}
		}
	}
	
	immediate = {
		# Character should not join a society during the event chain
		set_character_flag = society_join_block
		# Shadowscales have a slightly different localisation
		if = {
			limit = { NOT = { trait = shadowscale } }
			set_character_flag = murderer_recruited
		}
		if = {
			limit = { trait = shadowscale }
			set_character_flag = shadowscale_recruited
		}
		# Choose the recruiter
		random_society_member = {
			limit = {
				society_member_of = dark_brotherhood_tamriel
				#is_within_diplo_range = ROOT
				is_society_grandmaster = no
			}
			character_event = { id = eksecretive.31 }
		}
	}
}

# Ping the recruiter
character_event = { 
	id = eksecretive.31
	hide_window = yes
	
	min_age = 16
	capable_only = yes
	prisoner = no

	is_triggered_only = yes

	immediate = {
		### We've got a recruiter, so now we can apply the flags and event targets
		# Recruiter
		save_event_target_as = dark_brotherhood_recruiter
		
		# Potential recruit
		FROM = {
			# Character has been contacted once, and cannot be contacted again
			set_character_flag = db_attempted_recruitment
			# Character is currently being recruited
			set_character_flag = db_recruiting
			long_character_event = { id = eksecretive.35 }
		}
	}
}

#The Optimal DB Recruit
long_character_event = {
	id = eksecretive.35
	picture = GFX_evt_shadow
	desc = {
		trigger = { has_character_flag = murderer_recruited }
		text = EKSecretive35A
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = shadowscale_recruited }
		text = EKSecretive35B
		picture = GFX_evt_shadow
	}
	
	min_age = 16
	capable_only = yes
	prisoner = no

	is_triggered_only = yes

	immediate = {
		if = { 
			limit = { NOT = { event_target:dark_brotherhood_recruiter = { always = yes } } }
			FROMFROM = { save_event_target_as = dark_brotherhood_recruiter }
		}
	}
	
	#Agrees to join DB
	option = {
		name = EKSecretive35AcceptA
		trigger = { has_character_flag = murderer_recruited }
		clr_character_flag = murderer_recruited
		set_character_flag = willing_to_join
		
		hidden_effect = { event_target:dark_brotherhood_recruiter = { character_event = { id = eksecretive.40 } } }
		
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				trait = cruel
			}
			modifier = {
				factor = 2
				trait = ambitious
			}
			modifier = {
				factor = 2
				trait = schemer
			}
			modifier = {
				factor = 2
				trait = impaler
			}
			modifier = {
				factor = 2
				trait = ruthless
			}
			modifier = {
				factor = 2
				trait = greedy
			}
			modifier = {
				factor = 2
				religion_group = hist_group
			}
			modifier = {
				factor = 5
				religion_group = void_religions
			}
		}
	}

	#Declines DB
	option = {
		name = EKSecretive35DeclineA
		trigger = { has_character_flag = murderer_recruited }
		clr_character_flag = society_join_block
		clr_character_flag = murderer_recruited
		set_character_flag = unwilling_to_join
		
		hidden_effect = { event_target:dark_brotherhood_recruiter = { character_event = { id = eksecretive.40 } } }
		
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				NOT = { trait = cruel }
			}
			modifier = {
				factor = 2
				NOT = { trait = ambitious }
			}
			modifier = {
				factor = 2
				NOT = { trait = schemer }
			}
			modifier = {
				factor = 2
				NOT = { trait = impaler }
			}
			modifier = {
				factor = 2
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 2
				NOT = { trait = greedy }
			}
			modifier = {
				factor = 1.5
				NOR = {
					religion_group = void_religions
					religion_group = hist_group
				}
			}
		}
	}
	
	#Agrees to join DB
	option = {
		name = EKSecretive35AcceptB
		trigger = { has_character_flag = shadowscale_recruited }
		clr_character_flag = shadowscale_recruited
		set_character_flag = willing_to_join
		
		hidden_effect = { event_target:dark_brotherhood_recruiter = { character_event = { id = eksecretive.40 } } }
		
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				trait = cruel
			}
			modifier = {
				factor = 2
				trait = ambitious
			}
			modifier = {
				factor = 2
				trait = schemer
			}
			modifier = {
				factor = 2
				trait = impaler
			}
			modifier = {
				factor = 2
				trait = ruthless
			}
			modifier = {
				factor = 2
				trait = greedy
			}
			modifier = {
				factor = 2
				religion_group = hist_group
			}
			modifier = {
				factor = 5
				religion_group = void_religions
			}
		}
	}

	#Declines DB
	option = {
		name = EKSecretive35DeclineB
		trigger = { has_character_flag = shadowscale_recruited }
		clr_character_flag = society_join_block
		clr_character_flag = shadowscale_recruited
		set_character_flag = unwilling_to_join
		
		hidden_effect = { event_target:dark_brotherhood_recruiter = { character_event = { id = eksecretive.40 } } }
		
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				NOT = { trait = cruel }
			}
			modifier = {
				factor = 2
				NOT = { trait = ambitious }
			}
			modifier = {
				factor = 2
				NOT = { trait = schemer }
			}
			modifier = {
				factor = 2
				NOT = { trait = impaler }
			}
			modifier = {
				factor = 2
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 2
				NOT = { trait = greedy }
			}
			modifier = {
				factor = 1.5
				NOR = {
					religion_group = void_religions
					religion_group = hist_group
				}
			}
		}
	}
}

#Does the recruit want to join or not? Reaction
character_event = {
	id = eksecretive.40
	picture = GFX_evt_shadow
	desc = {
		trigger = { FROM = { has_character_flag = willing_to_join } }
		text = EKSecretive40A
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { FROM = { has_character_flag = unwilling_to_join } }
		text = EKSecretive40B
		picture = GFX_evt_shadow
	}
	
	min_age = 16
	capable_only = yes
	prisoner = no

	is_triggered_only = yes
	
	#Agrees to join DB
	option = {
		name = EKSecretive40AcknowledgeA
		trigger = { FROM = { has_character_flag = willing_to_join } }
		hidden_effect = { FROM = { clr_character_flag = willing_to_join } }
		FROM = {
			long_character_event = { id = eksecretive.45 }
		}
	}

	#Declines DB
	option = {
		name = EKSecretive40AcknowledgeB
		trigger = { FROM = { has_character_flag = unwilling_to_join } }
		hidden_effect = { FROM = { clr_character_flag = unwilling_to_join } }
		hidden_effect = { FROM = { clr_character_flag = db_recruiting } }
		FROM = {
			character_event = { id = eksecretive.46 }
		}
	}
}

#The new recruit receives a writ
long_character_event = {
	id = eksecretive.45
	picture = GFX_evt_shadow
	desc = {
		trigger = { has_character_flag = db_quest_badbard }
		text = EKSecretive45A
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_graverobber }
		text = EKSecretive45B
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_libelouswriter }
		text = EKSecretive45C
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_lunatic }
		text = EKSecretive45D
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_lyingmerchant }
		text = EKSecretive45E
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_skoomadealer }
		text = EKSecretive45F
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_violentbrute }
		text = EKSecretive45G
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_witch }
		text = EKSecretive45H
		picture = GFX_evt_shadow
	}

	is_triggered_only = yes
	
	immediate = {
		random_list = {
			20 = { set_character_flag = db_quest_badbard }
			20 = { set_character_flag = db_quest_graverobber }
			20 = { set_character_flag = db_quest_libelouswriter }
			20 = { set_character_flag = db_quest_lunatic }
			20 = { set_character_flag = db_quest_lyingmerchant }
			20 = { set_character_flag = db_quest_skoomadealer }
			20 = { set_character_flag = db_quest_violentbrute }
			20 = { set_character_flag = db_quest_witch }
		}
	}
	
	option = {
		name = EKSecretive45Acknowledge
		hidden_tooltip = {
			society_quest_event = { id = eksecretive.50 days = 14 random = 7 }
		}
	}
}

#Not in the DB ever.
character_event = {
	id = eksecretive.46
	picture = GFX_evt_shadow
	desc = EKSecretive46

	is_triggered_only = yes
	
	option = {
		name = EKSecretive46Acknowledge
		hidden_effect = {
			FROM = { clear_event_target = dark_brotherhood_recruiter }
		}
	}
}

#Sent off for assassination - some targets are more dangerous than others!
society_quest_event = {
	id = eksecretive.50
	title = quest_db_initiation
	picture = GFX_evt_shadow
	desc = {
		trigger = { has_character_flag = db_quest_badbard } #Low Threat
		text = EKSecretive50A
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_graverobber } #Low Threat
		text = EKSecretive50B
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_libelouswriter } #Low Threat
		text = EKSecretive50C
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_lunatic } #Low Threat
		text = EKSecretive50D
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_lyingmerchant } #Medium Threat
		text = EKSecretive50E
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_skoomadealer } #Medium Threat
		text = EKSecretive50F
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_violentbrute } #High Threat
		text = EKSecretive50G
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_witch } #High Threat
		text = EKSecretive50H
		picture = GFX_evt_shadow
	}
	
	min_age = 16
	capable_only = yes
	prisoner = no

	is_triggered_only = yes
	trigger = {
		is_alive = yes
		#society_member_of = dark_brotherhood_tamriel
	}

	option = {
		name = EKSecretive50AAccept
		trigger = {
			has_character_flag = db_quest_badbard
		}
		set_quest = quest_db_initiation

		hidden_effect = {
			long_character_event = { id = eksecretive.55 } 
		}
		ai_chance = { factor = 1 }
	}
	option = {
		name = EKSecretive50BAccept
		trigger = {
			has_character_flag = db_quest_graverobber
		}
		set_quest = quest_db_initiation

		hidden_effect = {
			long_character_event = { id = eksecretive.55 } 
		}
		ai_chance = { factor = 1 }
	}
	option = {
		name = EKSecretive50CAccept
		trigger = {
			has_character_flag = db_quest_libelouswriter
		}
		set_quest = quest_db_initiation

		hidden_effect = {
			long_character_event = { id = eksecretive.55 } 
		}
		ai_chance = { factor = 1 }
	}
	option = {
		name = EKSecretive50DAccept
		trigger = {
			has_character_flag = db_quest_lunatic
		}
		set_quest = quest_db_initiation

		hidden_effect = {
			long_character_event = { id = eksecretive.55 } 
		}
		ai_chance = { factor = 1 }
	}
	option = {
		name = EKSecretive50EAccept
		trigger = {
			has_character_flag = db_quest_lyingmerchant
		}
		set_quest = quest_db_initiation

		hidden_effect = {
			long_character_event = { id = eksecretive.55 } 
		}
		ai_chance = { factor = 1 }
	}
	option = {
		name = EKSecretive50FAccept
		trigger = {
			has_character_flag = db_quest_skoomadealer
		}
		set_quest = quest_db_initiation

		hidden_effect = {
			long_character_event = { id = eksecretive.55 } 
		}
		ai_chance = { factor = 1 }
	}
	option = {
		name = EKSecretive50GAccept
		trigger = {
			has_character_flag = db_quest_violentbrute
		}
		set_quest = quest_db_initiation

		hidden_effect = {
			long_character_event = { id = eksecretive.55 } 
		}
		ai_chance = { factor = 1 }
	}
	option = {
		name = EKSecretive50HAccept
		trigger = {
			has_character_flag = db_quest_witch
		}
		set_quest = quest_db_initiation

		hidden_effect = {
			long_character_event = { id = eksecretive.55 } 
		}
		ai_chance = { factor = 1 }
	}
	
	option = {
		name = EKSecretive50Decline
		custom_tooltip = { text = decline_quest_tooltip }
		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}
		hidden_tooltip = {
			clr_character_flag = society_join_block
			clr_character_flag = db_quest_badbard
			clr_character_flag = db_quest_graverobber
			clr_character_flag = db_quest_libelouswriter
			clr_character_flag = db_quest_lunatic
			clr_character_flag = db_quest_lyingmerchant
			clr_character_flag = db_quest_skoomadealer
			clr_character_flag = db_quest_violentbrute
			clr_character_flag = db_quest_witch
			event_target:dark_brotherhood_recruiter = {
				character_event = { id = eksecretive.64 days = 1 }
			}
		}
		ai_chance = { factor = 0 }
	}
}

long_character_event = {
	id = eksecretive.55
	picture = GFX_evt_shadow
	desc = {
		trigger = { has_character_flag = db_quest_badbard }
		text = EKSecretive55A
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_graverobber }
		text = EKSecretive55B
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_libelouswriter }
		text = EKSecretive55C
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_lunatic }
		text = EKSecretive55D
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_lyingmerchant }
		text = EKSecretive55E
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_skoomadealer }
		text = EKSecretive55F
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_violentbrute }
		text = EKSecretive55G
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { has_character_flag = db_quest_witch }
		text = EKSecretive55H
		picture = GFX_evt_shadow
	}
	
	min_age = 16
	capable_only = yes
	prisoner = no

	is_triggered_only = yes
	
	option = {
		name = EKSecretive55AOptA
		trigger = {
			has_character_flag = db_quest_badbard
		}
		if = {
			limit = {
				NOT = { combat_rating = 12 }
			}
			random = {
				chance = 50
				add_trait = wounded
				set_character_flag = db_wounded
			}
		}
		long_character_event = { id = eksecretive.60 }
	}
	option = {
		name = EKSecretive55AOptB
		trigger = {
			has_character_flag = db_quest_badbard
		}
		if = {
			limit = {
				NOT = { combat_rating = 12 }
			}
			random = {
				chance = 50
				add_trait = wounded
				set_character_flag = db_wounded
			}
		}
		long_character_event = { id = eksecretive.60 }
	}
	option = {
		name = EKSecretive55BOptA
		trigger = {
			has_character_flag = db_quest_graverobber
		}
		if = {
			limit = {
				NOT = { combat_rating = 12 }
			}
			random = {
				chance = 50
				add_trait = wounded
				set_character_flag = db_wounded
			}
		}
		long_character_event = { id = eksecretive.60 }
	}
	option = {
		name = EKSecretive55BOptB
		trigger = {
			has_character_flag = db_quest_graverobber
		}
		if = {
			limit = {
				NOT = { combat_rating = 12 }
			}
			random = {
				chance = 50
				add_trait = wounded
				set_character_flag = db_wounded
			}
		}
		long_character_event = { id = eksecretive.60 }
	}
	option = {
		name = EKSecretive55COptA
		trigger = {
			has_character_flag = db_quest_libelouswriter
		}
		if = {
			limit = {
				NOT = { combat_rating = 12 }
			}
			random = {
				chance = 50
				add_trait = wounded
				set_character_flag = db_wounded
			}
		}
		long_character_event = { id = eksecretive.60 }
	}
	option = {
		name = EKSecretive55COptB
		trigger = {
			has_character_flag = db_quest_libelouswriter
		}
		if = {
			limit = {
				NOT = { combat_rating = 12 }
			}
			random = {
				chance = 50
				add_trait = wounded
				set_character_flag = db_wounded
			}
		}
		long_character_event = { id = eksecretive.60 }
	}
	option = {
		name = EKSecretive55DOptA
		trigger = {
			has_character_flag = db_quest_lunatic
		}
		if = {
			limit = {
				NOT = { combat_rating = 12 }
			}
			random = {
				chance = 50
				add_trait = wounded
				set_character_flag = db_wounded
			}
		}
		long_character_event = { id = eksecretive.60 }
	}
	option = {
		name = EKSecretive55DOptB
		trigger = {
			has_character_flag = db_quest_lunatic
		}
		if = {
			limit = {
				NOT = { combat_rating = 12 }
			}
			random = {
				chance = 50
				add_trait = wounded
				set_character_flag = db_wounded
			}
		}
		long_character_event = { id = eksecretive.60 }
	}
	option = {
		name = EKSecretive55OptCEasy
		trigger = {
			OR = {
				has_character_flag = db_quest_badbard
				has_character_flag = db_quest_graverobber
				has_character_flag = db_quest_libelouswriter
				has_character_flag = db_quest_lunatic
			}
		}
		custom_tooltip = {
			text = "EKSecretive55Tooltip"
			hidden_tooltip = {
			if = {
				limit = {
					NOT = { combat_rating = 12 }
				}
				random = {
					chance = 50
					add_trait = wounded
					set_character_flag = db_wounded
				}
			}
			long_character_event = { id = eksecretive.60 }
			}
		}
	}
	option = {
		name = EKSecretive55EOptA
		trigger = {
			has_character_flag = db_quest_lyingmerchant
		}
		custom_tooltip = {
			text = "EKSecretive55Tooltip"
			hidden_tooltip = {
			if = {
				limit = {
					NOT = { combat_rating = 4 }
				}
				random_list = {
					50 = { 
						death = { death_reason = death_duel } 
						event_target:dark_brotherhood_recruiter = {
							character_event = { id = eksecretive.64 days = 1 }
						}
					}
					20 = { 
						add_maimed_trait_effect = yes
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					20 = { 
						add_trait = wounded
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					10 = { long_character_event = { id = eksecretive.60 } }
				}
			}
			if = {
				limit = {
					combat_rating = 4
					NOT = { combat_rating = 8 }
				}
				random_list = {
					40 = {
						death = { death_reason = death_duel } 
						event_target:dark_brotherhood_recruiter = {
							character_event = { id = eksecretive.64 days = 1 }
						}
					}
					20 = { 
						add_maimed_trait_effect = yes
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					30 = { 
						add_trait = wounded
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					10 = { long_character_event = { id = eksecretive.60 } }
				}
			}
			if = {
				limit = {
					combat_rating = 8
					NOT = { combat_rating = 12 }
				}
				random_list = {
					30 = {
						death = { death_reason = death_duel } 
						event_target:dark_brotherhood_recruiter = {
							character_event = { id = eksecretive.64 days = 1 }
						}
					}
					20 = { 
						add_maimed_trait_effect = yes
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					35 = { 
						add_trait = wounded
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					15 = { long_character_event = { id = eksecretive.60 } }
				}
			}
			if = {
				limit = {
					combat_rating = 12
					NOT = { combat_rating = 16 }
				}
				random_list = {
					25 = { 
						death = { death_reason = death_duel } 
						event_target:dark_brotherhood_recruiter = {
							character_event = { id = eksecretive.64 days = 1 }
						}
					}
					15 = { 
						add_maimed_trait_effect = yes
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					40 = { 
						add_trait = wounded
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					20 = { long_character_event = { id = eksecretive.60 } }
				}
			}
			if = {
				limit = {
					combat_rating = 16
					NOT = { combat_rating = 20 }
				}
				random_list = {
					20 = {
						death = { death_reason = death_duel } 
						event_target:dark_brotherhood_recruiter = {
							character_event = { id = eksecretive.64 days = 1 }
						}
					}
					10 = { 
						add_maimed_trait_effect = yes
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					45 = { 
						add_trait = wounded
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					25 = { long_character_event = { id = eksecretive.60 } }
				}
			}
			if = {
				limit = {
					combat_rating = 20
					NOT = { combat_rating = 24 }
				}
				random_list = {
					10 = {
						death = { death_reason = death_duel } 
						event_target:dark_brotherhood_recruiter = {
							character_event = { id = eksecretive.64 days = 1 }
						}
					}
					10 = { 
						add_maimed_trait_effect = yes
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					45 = { 
						add_trait = wounded
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					35 = { long_character_event = { id = eksecretive.60 } }
				}
			}
			if = {
				limit = {
					combat_rating = 24
					NOT = { combat_rating = 28 }
				}
				random_list = {
					5 = {
						death = { death_reason = death_duel } 
						event_target:dark_brotherhood_recruiter = {
							character_event = { id = eksecretive.64 days = 1 }
						}
					}
					5 = { 
						add_maimed_trait_effect = yes
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					40 = { 
						add_trait = wounded
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					50 = { long_character_event = { id = eksecretive.60 } }
				}
			}
			if = {
				limit = {
					combat_rating = 28
					NOT = { combat_rating = 32 }
				}
				random_list = {
					1 = {
						death = { death_reason = death_duel } 
						event_target:dark_brotherhood_recruiter = {
							character_event = { id = eksecretive.64 days = 1 }
						}
					}
					9 = { 
						add_maimed_trait_effect = yes
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					30 = { 
						add_trait = wounded
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					60 = { long_character_event = { id = eksecretive.60 } }
				}
			}
			if = {
				limit = {
					combat_rating = 32
					NOT = { combat_rating = 36 }
				}
				random_list = {
					5 = { 
						add_maimed_trait_effect = yes
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					25 = { 
						add_trait = wounded
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					70 = { long_character_event = { id = eksecretive.60 } }
				}
			}
			if = {
				limit = {
					combat_rating = 36
					NOT = { combat_rating = 40 }
				}
				random_list = {
					1 = { 
						add_maimed_trait_effect = yes
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					19 = { 
						add_trait = wounded
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					80 = { long_character_event = { id = eksecretive.60 } }
				}
			}
			if = {
				limit = {
					combat_rating = 40
					NOT = { combat_rating = 44 }
				}
				random_list = {
					10 = { 
						add_trait = wounded
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					90 = { long_character_event = { id = eksecretive.60 } }
				}
			}
			if = {
				limit = {
					combat_rating = 44
					NOT = { combat_rating = 48 }
				}
				random_list = {
					5 = { 
						add_trait = wounded
						set_character_flag = db_wounded
						long_character_event = { id = eksecretive.60 }
					}
					95 = { long_character_event = { id = eksecretive.60 } }
				}
			}
			if = {
				limit = {
					combat_rating = 48
				}
				long_character_event = { id = eksecretive.60 }
			}
				
			}
		}
	}
	option = {
		name = EKSecretive55EOptB
		trigger = {
			has_character_flag = db_quest_lyingmerchant
		}
		custom_tooltip = {
			text = "EKSecretive55Tooltip"
			hidden_tooltip = {
				if = {
					limit = {
						NOT = { combat_rating = 4 }
					}
					random_list = {
						50 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						20 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						10 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 4
						NOT = { combat_rating = 8 }
					}
					random_list = {
						40 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						30 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						10 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 8
						NOT = { combat_rating = 12 }
					}
					random_list = {
						30 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						35 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						15 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 12
						NOT = { combat_rating = 16 }
					}
					random_list = {
						25 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						15 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						40 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						20 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 16
						NOT = { combat_rating = 20 }
					}
					random_list = {
						20 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						10 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						45 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						25 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 20
						NOT = { combat_rating = 24 }
					}
					random_list = {
						10 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						10 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						45 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						35 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 24
						NOT = { combat_rating = 28 }
					}
					random_list = {
						5 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						5 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						40 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						50 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 28
						NOT = { combat_rating = 32 }
					}
					random_list = {
						1 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						9 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						30 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						60 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 32
						NOT = { combat_rating = 36 }
					}
					random_list = {
						5 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						25 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						70 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 36
						NOT = { combat_rating = 40 }
					}
					random_list = {
						1 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						19 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						80 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 40
						NOT = { combat_rating = 44 }
					}
					random_list = {
						10 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						90 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 44
						NOT = { combat_rating = 48 }
					}
					random_list = {
						5 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						95 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 48
					}
					long_character_event = { id = eksecretive.60 }
				}
			}
		}
	}
	option = {
		name = EKSecretive55FOptA
		trigger = {
			has_character_flag = db_quest_skoomadealer
		}
		custom_tooltip = {
			text = "EKSecretive55Tooltip"
			hidden_tooltip = {
				if = {
					limit = {
						NOT = { combat_rating = 4 }
					}
					random_list = {
						50 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						20 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						10 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 4
						NOT = { combat_rating = 8 }
					}
					random_list = {
						40 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						30 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						10 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 8
						NOT = { combat_rating = 12 }
					}
					random_list = {
						30 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						35 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						15 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 12
						NOT = { combat_rating = 16 }
					}
					random_list = {
						25 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						15 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						40 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						20 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 16
						NOT = { combat_rating = 20 }
					}
					random_list = {
						20 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						10 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						45 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						25 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 20
						NOT = { combat_rating = 24 }
					}
					random_list = {
						10 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						10 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						45 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						35 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 24
						NOT = { combat_rating = 28 }
					}
					random_list = {
						5 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						5 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						40 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						50 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 28
						NOT = { combat_rating = 32 }
					}
					random_list = {
						1 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						9 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						30 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						60 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 32
						NOT = { combat_rating = 36 }
					}
					random_list = {
						5 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						25 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						70 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 36
						NOT = { combat_rating = 40 }
					}
					random_list = {
						1 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						19 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						80 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 40
						NOT = { combat_rating = 44 }
					}
					random_list = {
						10 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						90 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 44
						NOT = { combat_rating = 48 }
					}
					random_list = {
						5 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						95 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 48
					}
					long_character_event = { id = eksecretive.60 }
				}
			}
		}
	}
	option = {
		name = EKSecretive55FOptB
		trigger = {
			has_character_flag = db_quest_skoomadealer
		}
		custom_tooltip = {
			text = "EKSecretive55Tooltip"
			hidden_tooltip = {
				if = {
					limit = {
						NOT = { combat_rating = 4 }
					}
					random_list = {
						50 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						20 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						10 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 4
						NOT = { combat_rating = 8 }
					}
					random_list = {
						40 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						30 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						10 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 8
						NOT = { combat_rating = 12 }
					}
					random_list = {
						30 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						35 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						15 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 12
						NOT = { combat_rating = 16 }
					}
					random_list = {
						25 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						15 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						40 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						20 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 16
						NOT = { combat_rating = 20 }
					}
					random_list = {
						20 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						10 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						45 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						25 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 20
						NOT = { combat_rating = 24 }
					}
					random_list = {
						10 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						10 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						45 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						35 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 24
						NOT = { combat_rating = 28 }
					}
					random_list = {
						5 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						5 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						40 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						50 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 28
						NOT = { combat_rating = 32 }
					}
					random_list = {
						1 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						9 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						30 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						60 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 32
						NOT = { combat_rating = 36 }
					}
					random_list = {
						5 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						25 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						70 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 36
						NOT = { combat_rating = 40 }
					}
					random_list = {
						1 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						19 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						80 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 40
						NOT = { combat_rating = 44 }
					}
					random_list = {
						10 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						90 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 44
						NOT = { combat_rating = 48 }
					}
					random_list = {
						5 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						95 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 48
					}
					long_character_event = { id = eksecretive.60 }
				}
			}
		}
	}
	option = {
		name = EKSecretive55OptCMedium
		trigger = {
			OR = {
				has_character_flag = db_quest_lyingmerchant
				has_character_flag = db_quest_skoomadealer
			}
		}
		custom_tooltip = {
			text = "EKSecretive55Tooltip"
			hidden_tooltip = {
				if = {
					limit = {
						NOT = { combat_rating = 4 }
					}
					random_list = {
						50 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						20 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						10 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 4
						NOT = { combat_rating = 8 }
					}
					random_list = {
						40 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						30 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						10 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 8
						NOT = { combat_rating = 12 }
					}
					random_list = {
						30 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						35 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						15 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 12
						NOT = { combat_rating = 16 }
					}
					random_list = {
						25 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						15 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						40 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						20 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 16
						NOT = { combat_rating = 20 }
					}
					random_list = {
						20 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						10 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						45 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						25 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 20
						NOT = { combat_rating = 24 }
					}
					random_list = {
						10 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						10 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						45 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						35 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 24
						NOT = { combat_rating = 28 }
					}
					random_list = {
						5 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						5 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						40 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						50 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 28
						NOT = { combat_rating = 32 }
					}
					random_list = {
						1 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						9 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						30 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						60 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 32
						NOT = { combat_rating = 36 }
					}
					random_list = {
						5 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						25 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						70 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 36
						NOT = { combat_rating = 40 }
					}
					random_list = {
						1 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						19 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						80 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 40
						NOT = { combat_rating = 44 }
					}
					random_list = {
						10 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						90 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 44
						NOT = { combat_rating = 48 }
					}
					random_list = {
						5 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						95 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 48
					}
					long_character_event = { id = eksecretive.60 }
				}
			}
		}
	}
	option = {
		name = EKSecretive55GOptA
		trigger = {
			has_character_flag = db_quest_violentbrute
		}
		custom_tooltip = {
			text = "EKSecretive55Tooltip"
			hidden_tooltip = {
				if = {
					limit = {
						NOT = { combat_rating = 4 }
					}
					random_list = {
						50 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						20 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						10 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 4
						NOT = { combat_rating = 8 }
					}
					random_list = {
						40 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						30 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						10 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 8
						NOT = { combat_rating = 12 }
					}
					random_list = {
						30 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						35 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						15 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 12
						NOT = { combat_rating = 16 }
					}
					random_list = {
						25 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						15 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						40 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						20 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 16
						NOT = { combat_rating = 20 }
					}
					random_list = {
						20 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						10 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						45 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						25 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 20
						NOT = { combat_rating = 24 }
					}
					random_list = {
						10 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						10 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						45 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						35 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 24
						NOT = { combat_rating = 28 }
					}
					random_list = {
						5 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						5 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						40 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						50 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 28
						NOT = { combat_rating = 32 }
					}
					random_list = {
						1 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						9 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						30 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						60 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 32
						NOT = { combat_rating = 36 }
					}
					random_list = {
						5 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						25 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						70 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 36
						NOT = { combat_rating = 40 }
					}
					random_list = {
						1 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						19 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						80 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 40
						NOT = { combat_rating = 44 }
					}
					random_list = {
						10 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						90 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 44
						NOT = { combat_rating = 48 }
					}
					random_list = {
						5 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						95 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 48
					}
					long_character_event = { id = eksecretive.60 }
				}
			}
		}
	}
	option = {
		name = EKSecretive55GOptB
		trigger = {
			has_character_flag = db_quest_violentbrute
		}
		custom_tooltip = {
			text = "EKSecretive55Tooltip"
			hidden_tooltip = {
				if = {
					limit = {
						NOT = { combat_rating = 4 }
					}
					random_list = {
						50 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						20 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						10 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 4
						NOT = { combat_rating = 8 }
					}
					random_list = {
						40 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						30 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						10 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 8
						NOT = { combat_rating = 12 }
					}
					random_list = {
						30 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						35 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						15 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 12
						NOT = { combat_rating = 16 }
					}
					random_list = {
						25 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						15 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						40 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						20 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 16
						NOT = { combat_rating = 20 }
					}
					random_list = {
						20 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						10 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						45 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						25 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 20
						NOT = { combat_rating = 24 }
					}
					random_list = {
						10 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						10 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						45 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						35 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 24
						NOT = { combat_rating = 28 }
					}
					random_list = {
						5 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						5 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						40 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						50 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 28
						NOT = { combat_rating = 32 }
					}
					random_list = {
						1 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						9 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						30 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						60 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 32
						NOT = { combat_rating = 36 }
					}
					random_list = {
						5 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						25 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						70 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 36
						NOT = { combat_rating = 40 }
					}
					random_list = {
						1 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						19 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						80 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 40
						NOT = { combat_rating = 44 }
					}
					random_list = {
						10 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						90 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 44
						NOT = { combat_rating = 48 }
					}
					random_list = {
						5 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						95 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 48
					}
					long_character_event = { id = eksecretive.60 }
				}
			}
		}
	}
	option = {
		name = EKSecretive55HOptA
		trigger = {
			has_character_flag = db_quest_witch
		}
		custom_tooltip = {
			text = "EKSecretive55Tooltip"
			hidden_tooltip = {
				if = {
					limit = {
						NOT = { combat_rating = 4 }
					}
					random_list = {
						50 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						20 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						10 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 4
						NOT = { combat_rating = 8 }
					}
					random_list = {
						40 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						30 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						10 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 8
						NOT = { combat_rating = 12 }
					}
					random_list = {
						30 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						35 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						15 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 12
						NOT = { combat_rating = 16 }
					}
					random_list = {
						25 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						15 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						40 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						20 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 16
						NOT = { combat_rating = 20 }
					}
					random_list = {
						20 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						10 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						45 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						25 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 20
						NOT = { combat_rating = 24 }
					}
					random_list = {
						10 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						10 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						45 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						35 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 24
						NOT = { combat_rating = 28 }
					}
					random_list = {
						5 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						5 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						40 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						50 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 28
						NOT = { combat_rating = 32 }
					}
					random_list = {
						1 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						9 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						30 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						60 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 32
						NOT = { combat_rating = 36 }
					}
					random_list = {
						5 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						25 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						70 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 36
						NOT = { combat_rating = 40 }
					}
					random_list = {
						1 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						19 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						80 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 40
						NOT = { combat_rating = 44 }
					}
					random_list = {
						10 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						90 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 44
						NOT = { combat_rating = 48 }
					}
					random_list = {
						5 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						95 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 48
					}
					long_character_event = { id = eksecretive.60 }
				}
			}
		}
	}
	option = {
		name = EKSecretive55HOptB
		trigger = {
			has_character_flag = db_quest_witch
		}
		custom_tooltip = {
			text = "EKSecretive55Tooltip"
			hidden_tooltip = {
				if = {
					limit = {
						NOT = { combat_rating = 4 }
					}
					random_list = {
						50 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						20 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						10 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 4
						NOT = { combat_rating = 8 }
					}
					random_list = {
						40 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						30 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						10 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 8
						NOT = { combat_rating = 12 }
					}
					random_list = {
						30 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						35 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						15 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 12
						NOT = { combat_rating = 16 }
					}
					random_list = {
						25 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						15 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						40 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						20 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 16
						NOT = { combat_rating = 20 }
					}
					random_list = {
						20 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						10 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						45 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						25 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 20
						NOT = { combat_rating = 24 }
					}
					random_list = {
						10 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						10 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						45 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						35 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 24
						NOT = { combat_rating = 28 }
					}
					random_list = {
						5 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						5 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						40 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						50 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 28
						NOT = { combat_rating = 32 }
					}
					random_list = {
						1 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						9 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						30 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						60 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 32
						NOT = { combat_rating = 36 }
					}
					random_list = {
						5 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						25 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						70 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 36
						NOT = { combat_rating = 40 }
					}
					random_list = {
						1 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						19 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						80 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 40
						NOT = { combat_rating = 44 }
					}
					random_list = {
						10 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						90 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 44
						NOT = { combat_rating = 48 }
					}
					random_list = {
						5 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						95 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 48
					}
					long_character_event = { id = eksecretive.60 }
				}
			}
		}
	}
	option = {
		name = EKSecretive55OptCHard
		trigger = {
			OR = {
				has_character_flag = db_quest_violentbrute
				has_character_flag = db_quest_witch
			}
		}
		custom_tooltip = {
			text = "EKSecretive55Tooltip"
			hidden_tooltip = {
				if = {
					limit = {
						NOT = { combat_rating = 4 }
					}
					random_list = {
						50 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						20 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						10 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 4
						NOT = { combat_rating = 8 }
					}
					random_list = {
						40 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						30 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						10 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 8
						NOT = { combat_rating = 12 }
					}
					random_list = {
						30 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						20 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						35 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						15 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 12
						NOT = { combat_rating = 16 }
					}
					random_list = {
						25 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						15 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						40 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						20 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 16
						NOT = { combat_rating = 20 }
					}
					random_list = {
						20 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						10 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						45 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						25 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 20
						NOT = { combat_rating = 24 }
					}
					random_list = {
						10 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						10 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						45 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						35 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 24
						NOT = { combat_rating = 28 }
					}
					random_list = {
						5 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						5 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						40 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						50 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 28
						NOT = { combat_rating = 32 }
					}
					random_list = {
						1 = {
							death = { death_reason = death_duel } 
							event_target:dark_brotherhood_recruiter = {
								character_event = { id = eksecretive.64 days = 1 }
							}
						}
						9 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						30 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						60 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 32
						NOT = { combat_rating = 36 }
					}
					random_list = {
						5 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						25 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						70 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 36
						NOT = { combat_rating = 40 }
					}
					random_list = {
						1 = { 
							add_maimed_trait_effect = yes
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						19 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						80 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 40
						NOT = { combat_rating = 44 }
					}
					random_list = {
						10 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						90 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 44
						NOT = { combat_rating = 48 }
					}
					random_list = {
						5 = { 
							add_trait = wounded
							set_character_flag = db_wounded
							long_character_event = { id = eksecretive.60 }
						}
						95 = { long_character_event = { id = eksecretive.60 } }
					}
				}
				if = {
					limit = {
						combat_rating = 48
					}
					long_character_event = { id = eksecretive.60 }
				}
			}
		}
	}
}

long_character_event = {
	id = eksecretive.60
	picture = GFX_evt_shadow
	desc = {
		trigger = { 
			has_character_flag = db_quest_badbard 
			NOT = { has_character_flag = db_wounded }
		}
		text = EKSecretive60A1
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { 
			has_character_flag = db_quest_badbard 
			has_character_flag = db_wounded
		}
		text = EKSecretive60A2
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { 
			has_character_flag = db_quest_graverobber 
			NOT = { has_character_flag = db_wounded }
		}
		text = EKSecretive60B1
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { 
			has_character_flag = db_quest_graverobber 
			has_character_flag = db_wounded
		}
		text = EKSecretive60B2
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { 
			has_character_flag = db_quest_libelouswriter 
			NOT = { has_character_flag = db_wounded }
		}
		text = EKSecretive60C1
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { 
			has_character_flag = db_quest_libelouswriter 
			has_character_flag = db_wounded
		}
		text = EKSecretive60C2
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { 
			has_character_flag = db_quest_lunatic 
			NOT = { has_character_flag = db_wounded }
		}
		text = EKSecretive60D1
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { 
			has_character_flag = db_quest_lunatic 
			has_character_flag = db_wounded
		}
		text = EKSecretive60D2
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { 
			has_character_flag = db_quest_lyingmerchant 
			NOT = { has_character_flag = db_wounded }
		}
		text = EKSecretive60E1
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { 
			has_character_flag = db_quest_lyingmerchant 
			has_character_flag = db_wounded
		}
		text = EKSecretive60E2
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { 
			has_character_flag = db_quest_skoomadealer 
			NOT = { has_character_flag = db_wounded }
		}
		text = EKSecretive60F1
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { 
			has_character_flag = db_quest_skoomadealer 
			has_character_flag = db_wounded
		}
		text = EKSecretive60F2
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { 
			has_character_flag = db_quest_violentbrute 
			NOT = { has_character_flag = db_wounded }
		}
		text = EKSecretive60G1
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { 
			has_character_flag = db_quest_violentbrute 
			has_character_flag = db_wounded
		}
		text = EKSecretive60G2
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { 
			has_character_flag = db_quest_witch 
			NOT = { has_character_flag = db_wounded }
		}
		text = EKSecretive60H1
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { 
			has_character_flag = db_quest_witch 
			has_character_flag = db_wounded
		}
		text = EKSecretive60H2
		picture = GFX_evt_shadow
	}

	is_triggered_only = yes
	
	option = {
		name = EKSecretive60Acknowledge
		hidden_tooltip = {
			clr_character_flag = db_wounded
			clr_character_flag = db_quest_badbard
			clr_character_flag = db_quest_graverobber
			clr_character_flag = db_quest_libelouswriter
			clr_character_flag = db_quest_lunatic
			clr_character_flag = db_quest_lyingmerchant
			clr_character_flag = db_quest_skoomadealer
			clr_character_flag = db_quest_violentbrute
			clr_character_flag = db_quest_witch
			event_target:dark_brotherhood_recruiter = {
				character_event = { id = eksecretive.65 days = 1 }
			}
		}
	}
}

#DB Recruit has failed, Recruiter finds out
character_event = {
	id = eksecretive.64
	picture = GFX_evt_shadow
	desc = EKSecretive64

	is_triggered_only = yes
	
	#Agrees to join DB
	option = {
		name = EKSecretive64Acknowledge
		clear_event_target = dark_brotherhood_recruiter
		FROM = {
			clr_character_flag = db_recruiting
		}
	}
}

#DB Recruit is successful, Recruiter finds out
character_event = {
	id = eksecretive.65
	picture = GFX_evt_shadow
	desc = EKSecretive65

	is_triggered_only = yes
	
	#Agrees to join DB
	option = {
		name = EKSecretive65Acknowledge
		wealth = 15
		FROM = {
			long_character_event = { id = eksecretive.70 }
		}
	}
}

#Now in the DB
long_character_event = {
	id = eksecretive.70
	picture = GFX_evt_shadow
	desc = EKSecretive70

	is_triggered_only = yes
	
	immediate = {
		join_society = dark_brotherhood_tamriel
	}
	
	option = {
		name = EKSecretive70OptA
		clr_quest = quest_db_initiation
		add_society_currency_minor_effect = yes
		wealth = 10
		hidden_tooltip = {
			clr_character_flag = db_recruiting
			clr_character_flag = society_join_block
			FROM = { clear_event_target = dark_brotherhood_recruiter }
		}
	}
	option = {
		name = EKSecretive70OptB
		clr_quest = quest_db_initiation
		add_society_currency_minor_effect = yes
		wealth = 10
		hidden_tooltip = {
			clr_character_flag = db_recruiting
			clr_character_flag = society_join_block
			FROM = { clear_event_target = dark_brotherhood_recruiter }
		}
	}
	option = {
		name = EKSecretive70OptC
		clr_quest = quest_db_initiation
		add_society_currency_minor_effect = yes
		wealth = 10
		hidden_tooltip = {
			clr_character_flag = db_recruiting
			clr_character_flag = society_join_block
			FROM = { clear_event_target = dark_brotherhood_recruiter }
		}
	}
}

#Morag Tong Ping event for GM to set location
character_event = {
	id = eksecretive.100
	hide_window = yes
	
	min_age = 16
	capable_only = yes
	prisoner = no

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			random_society_member = {
				limit = { 
					society_rank = {
						rank == 4
						society = morag_tong_tamriel
					}
				}
				save_event_target_as = hiding_morag_gm
				FROM = { society_quest_event = { id = eksecretive.105 } }
			}
		}
	}
}

society_quest_event = {
	id = eksecretive.105
	title = quest_mt_initiation
	desc = EKSecretive105
	picture = GFX_evt_two_moon_aurora
	
	min_age = 16
	capable_only = yes
	prisoner = no
	
	hide_from = yes	
	is_triggered_only = yes
	
	option = {
		name = EKSecretive105Accept
		set_quest = quest_mt_initiation

		hidden_effect = {
			long_character_event = { id = eksecretive.110 } 
		}
		ai_chance = { factor = 1 }
	}
	
	option = {
		name = EKSecretive105Decline
		custom_tooltip = { text = decline_quest_tooltip }
		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}
		hidden_tooltip = {
			clr_character_flag = society_join_block
			clr_character_flag = searching_for_morag_tong
			FROM = {
				clear_event_target = hiding_morag_gm
			}
		}
		ai_chance = { factor = 0 }
	}
}

long_character_event = {
	id = eksecretive.110
	picture = GFX_evt_shadow
	desc = EKSecretive110

	show_from_from = no
	is_triggered_only = yes
	
	option = {
		name = EKSecretive110LockPick
		trigger = { intrigue = 14 }
		tooltip_info = intrigue
		hidden_tooltip = {
			event_target:hiding_morag_gm = {
				long_character_event = { id = eksecretive.112 } 
			}
		}
	}
	option = {
		name = EKSecretive110LockBash
		trigger = {
			NOT = { intrigue = 14 }
		}
		hidden_tooltip = {
			if = {
				limit = {
					NOT = { combat_rating = 4 }
				}
				random_list = {
					75 = { 
						character_event = { id = eksecretive.111 }
					}
					25 = { 
						event_target:hiding_morag_gm = {
							long_character_event = { id = eksecretive.112 } 
						}
					}
				}
			}
			if = {
				limit = {
					combat_rating = 4
					NOT = { combat_rating = 8 }
				}
				random_list = {
					70 = { 
						character_event = { id = eksecretive.111 }
					}
					30 = { 
						event_target:hiding_morag_gm = {
							long_character_event = { id = eksecretive.112 } 
						}
					}
				}
			}
			if = {
				limit = {
					combat_rating = 8
					NOT = { combat_rating = 12 }
				}
				random_list = {
					65 = { 
						character_event = { id = eksecretive.111 }
					}
					35 = { 
						event_target:hiding_morag_gm = {
							long_character_event = { id = eksecretive.112 } 
						}
					}
				}
			}
			if = {
				limit = {
					combat_rating = 12
					NOT = { combat_rating = 16 }
				}
				random_list = {
					60 = { 
						character_event = { id = eksecretive.111 }
					}
					40 = { 
						event_target:hiding_morag_gm = {
							long_character_event = { id = eksecretive.112 } 
						}
					}
				}
			}
			if = {
				limit = {
					combat_rating = 16
					NOT = { combat_rating = 20 }
				}
				random_list = {
					55 = { 
						character_event = { id = eksecretive.111 }
					}
					45 = { 
						event_target:hiding_morag_gm = {
							long_character_event = { id = eksecretive.112 } 
						}
					}
				}
			}
			if = {
				limit = {
					combat_rating = 20
					NOT = { combat_rating = 24 }
				}
				random_list = {
					50 = { 
						character_event = { id = eksecretive.111 }
					}
					50 = { 
						event_target:hiding_morag_gm = {
							long_character_event = { id = eksecretive.112 } 
						}
					}
				}
			}
			if = {
				limit = {
					combat_rating = 24
					NOT = { combat_rating = 28 }
				}
				random_list = {
					45 = { 
						character_event = { id = eksecretive.111 }
					}
					55 = { 
						event_target:hiding_morag_gm = {
							long_character_event = { id = eksecretive.112 } 
						}
					}
				}
			}
			if = {
				limit = {
					combat_rating = 28
					NOT = { combat_rating = 32 }
				}
				random_list = {
					35 = { 
						character_event = { id = eksecretive.111 }
					}
					65 = { 
						event_target:hiding_morag_gm = {
							long_character_event = { id = eksecretive.112 } 
						}
					}
				}
			}
			if = {
				limit = {
					combat_rating = 32
					NOT = { combat_rating = 36 }
				}
				random_list = {
					25 = { 
						character_event = { id = eksecretive.111 }
					}
					75 = { 
						event_target:hiding_morag_gm = {
							long_character_event = { id = eksecretive.112 } 
						}
					}
				}
			}
			if = {
				limit = {
					combat_rating = 36
					NOT = { combat_rating = 40 }
				}
				random_list = {
					15 = { 
						character_event = { id = eksecretive.111 }
					}
					85 = { 
						event_target:hiding_morag_gm = {
							long_character_event = { id = eksecretive.112 } 
						}
					}
				}
			}
			if = {
				limit = {
					combat_rating = 40
					NOT = { combat_rating = 44 }
				}
				random_list = {
					5 = { 
						character_event = { id = eksecretive.111 }
					}
					95 = { 
						event_target:hiding_morag_gm = {
							long_character_event = { id = eksecretive.112 } 
						}
					}
				}
			}
			if = {
				limit = {
					combat_rating = 44
					NOT = { combat_rating = 48 }
				}
				random_list = {
					1 = { 
						character_event = { id = eksecretive.111 }
					}
					99 = { 
						event_target:hiding_morag_gm = {
							long_character_event = { id = eksecretive.112 } 
						}
					}
				}
			}
			if = {
				limit = {
					combat_rating = 48
				}
				event_target:hiding_morag_gm = {
					long_character_event = { id = eksecretive.112 } 
				}
			}
		}
	}
}

#Failure, nothing else happens
character_event = {
	id = eksecretive.111
	picture = GFX_evt_shadow
	desc = EKSecretive111

	is_triggered_only = yes
	option = {
		name = EKSecretive111Acknowledge
		clr_quest = quest_mt_initiation
		clr_character_flag = searching_for_morag_tong
		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}
		hidden_tooltip = {
			FROMFROMFROM = {
				clear_event_target = hiding_morag_gm
			}
		}
	}
}

#Grandmaster discovers new visitor, offers the ability to join
character_event = {
	id = eksecretive.112
	picture = GFX_evt_shadow
	desc = EKSecretive112

	is_triggered_only = yes
	
	#Offer initiation into MT
	option = {
		name = EKSecretive65Acknowledge
		FROM = {
			long_character_event = { id = eksecretive.115 }
		}
	}
}

long_character_event = {
	id = eksecretive.115
	picture = GFX_evt_shadow
	desc = EKSecretive115

	is_triggered_only = yes
	option = {
		name = EKSecretive115Acknowledge
		long_character_event = { id = eksecretive.120 }
	}
}

long_character_event = {
	id = eksecretive.120
	picture = GFX_evt_shadow
	desc = EKSecretive120

	is_triggered_only = yes
	
	immediate = {
		join_society = morag_tong_tamriel
	}
	
	option = {
		name = EKSecretive120OptA
		clr_quest = quest_mt_initiation
		add_society_currency_minor_effect = yes
		hidden_tooltip = {
			clr_character_flag = searching_for_morag_tong
			clr_character_flag = society_join_block
			FROMFROM = { clear_event_target = hiding_morag_gm }
		}
	}
	option = {
		name = EKSecretive120OptB
		clr_quest = quest_mt_initiation
		add_society_currency_minor_effect = yes
		hidden_tooltip = {
			clr_character_flag = searching_for_morag_tong
			clr_character_flag = society_join_block
			FROMFROM = { clear_event_target = hiding_morag_gm }
		}
	}
	option = {
		name = EKSecretive120OptC
		clr_quest = quest_mt_initiation
		add_society_currency_minor_effect = yes
		hidden_tooltip = {
			clr_character_flag = searching_for_morag_tong
			clr_character_flag = society_join_block
			FROMFROM = { clear_event_target = hiding_morag_gm }
		}
	}
}

### Order of the Pale Mist
society_quest_event = {
	id = eksecretive.130
	title = quest_opm_initiation
	desc = EKSecretive130
	picture = GFX_evt_two_moon_aurora
	
	min_age = 16
	capable_only = yes
	prisoner = no
	
	hide_from = yes	
	is_triggered_only = yes
	
	immediate = {
		random_society_member = {
			limit = {
				society_member_of = assassin_guild_akavir
				is_society_grandmaster = yes
			}
			save_event_target_as = opm_master
		}
	}
	
	option = {
		name = EKSecretive130Accept
		set_quest = quest_opm_initiation

		hidden_effect = {
			long_character_event = { id = eksecretive.135 days = 7 random = 3 } 
		}
		ai_chance = { factor = 1 }
	}
	
	option = {
		name = EKSecretive130Decline
		custom_tooltip = { text = decline_quest_tooltip }
		add_character_modifier = {
			name = quest_cooldown_timer
			hidden = yes
			days = 1000
		}
		hidden_tooltip = {
			clr_character_flag = society_join_block
			clr_character_flag = searching_for_assassin_guild_akavir
		}
		ai_chance = { factor = 0 }
	}
}

# How to impress the Order?
long_character_event = {
	id = eksecretive.135
	picture = GFX_evt_shadow
	desc = EKSecretive135

	show_from_from = no
	is_triggered_only = yes
	
	trigger = {
		NOT = { society_member_of = assassin_guild_akavir }
	}
	
	option = {
		name = EKSecretive135OptA

		custom_tooltip = {
			text = EKSecretive135OptATooltip
			
			hidden_tooltip = {
				if = {
					limit = { NOT = { intrigue = 5 } }
					set_character_flag = opm_intro_total_fail
				}
				
				else_if = {
					if = {
						limit = { intrigue = 5 NOT = { intrigue = 6 } }
						random_list = {
							10 = { set_character_flag = opm_intro_success }
							90 = { set_character_flag = opm_intro_mild_fail }
						}
					}
					
					else_if = {
						limit = { intrigue = 6 NOT = { intrigue = 7 } }
						random_list = {
							30 = { set_character_flag = opm_intro_success }
							70 = { set_character_flag = opm_intro_mild_fail }
						}
					}
					
					else_if = {
						limit = { intrigue = 7 NOT = { intrigue = 8 } }
						random_list = {
							50 = { set_character_flag = opm_intro_success }
							50 = { set_character_flag = opm_intro_mild_fail }
						}
					}
					
					
					else_if = {
						limit = { intrigue = 8 NOT = { intrigue = 9 } }
						random_list = {
							70 = { set_character_flag = opm_intro_success }
							30 = { set_character_flag = opm_intro_mild_fail }
						}
					}
					
					
					else_if = {
						limit = { intrigue = 9 NOT = { intrigue = 10 } }
						random_list = {
							90 = { set_character_flag = opm_intro_success }
							10 = { set_character_flag = opm_intro_mild_fail }
						}
					}
					
					else = { set_character_flag = opm_intro_success }
				}
				
				if = {
					limit = { has_character_flag = opm_intro_success }
					random = {
						chance = 50
						clr_character_flag = opm_intro_success
						set_character_flag = opm_intro_mild_fail
					}
				}
				
				character_event = { id = eksecretive.140 days = 3 }
			}
		}
	}
	
	option = {
		name = EKSecretive135OptB

		custom_tooltip = {
			text = EKSecretive135OptBTooltip
			
			hidden_tooltip = {
				if = {
					limit = { NOT = { intrigue = 10 } }
					set_character_flag = opm_intro_total_fail
				}
				
				else_if = {
					if = {
						limit = { intrigue = 10 NOT = { intrigue = 11 } }
						random_list = {
							10 = { set_character_flag = opm_intro_success }
							90 = { set_character_flag = opm_intro_mild_fail }
						}
					}
					
					else_if = {
						limit = { intrigue = 11 NOT = { intrigue = 12 } }
						random_list = {
							30 = { set_character_flag = opm_intro_success }
							70 = { set_character_flag = opm_intro_mild_fail }
						}
					}
					
					else_if = {
						limit = { intrigue = 12 NOT = { intrigue = 13 } }
						random_list = {
							50 = { set_character_flag = opm_intro_success }
							50 = { set_character_flag = opm_intro_mild_fail }
						}
					}
					
					
					else_if = {
						limit = { intrigue = 13 NOT = { intrigue = 14 } }
						random_list = {
							70 = { set_character_flag = opm_intro_success }
							30 = { set_character_flag = opm_intro_mild_fail }
						}
					}
					
					
					else_if = {
						limit = { intrigue = 14 NOT = { intrigue = 15 } }
						random_list = {
							90 = { set_character_flag = opm_intro_success }
							10 = { set_character_flag = opm_intro_mild_fail }
						}
					}
					
					else = { set_character_flag = opm_intro_success }
				}
				
				if = {
					limit = { has_character_flag = opm_intro_success }
					random = {
						chance = 25
						clr_character_flag = opm_intro_success
						set_character_flag = opm_intro_mild_fail
					}
				}
				
				character_event = { id = eksecretive.141 days = 3 }
			}
		}
	}
	
	option = {
		name = EKSecretive135OptC

		custom_tooltip = {
			text = EKSecretive135OptCTooltip
			
			hidden_tooltip = {
				if = {
					limit = { NOT = { intrigue = 15 } }
					set_character_flag = opm_intro_total_fail
				}
				
				else_if = {
					if = {
						limit = { intrigue = 15 NOT = { intrigue = 16 } }
						random_list = {
							10 = { set_character_flag = opm_intro_success }
							90 = { set_character_flag = opm_intro_mild_fail }
						}
					}
					
					else_if = {
						limit = { intrigue = 16 NOT = { intrigue = 17 } }
						random_list = {
							30 = { set_character_flag = opm_intro_success }
							70 = { set_character_flag = opm_intro_mild_fail }
						}
					}
					
					else_if = {
						limit = { intrigue = 17 NOT = { intrigue = 18 } }
						random_list = {
							50 = { set_character_flag = opm_intro_success }
							50 = { set_character_flag = opm_intro_mild_fail }
						}
					}
					
					
					else_if = {
						limit = { intrigue = 18 NOT = { intrigue = 19 } }
						random_list = {
							70 = { set_character_flag = opm_intro_success }
							30 = { set_character_flag = opm_intro_mild_fail }
						}
					}
					
					
					else_if = {
						limit = { intrigue = 19 NOT = { intrigue = 20 } }
						random_list = {
							90 = { set_character_flag = opm_intro_success }
							10 = { set_character_flag = opm_intro_mild_fail }
						}
					}
					
					else = { set_character_flag = opm_intro_success }
				}
				
				character_event = { id = eksecretive.142 days = 3 }
			}
		}
	}
}

# Result of the fisherman assassination
character_event = {
	id = eksecretive.140
	picture = GFX_evt_shadow
	
	desc = {
		trigger = { has_character_flag = opm_intro_total_fail }
		text = EKSecretive140TotalFailure
	}
	
	desc = {
		trigger = { has_character_flag = opm_intro_mild_fail }
		text = EKSecretive140MildFailure
	}
	
	desc = {
		trigger = { has_character_flag = opm_intro_success }
		text = EKSecretive140Success
	}

	is_triggered_only = yes
	
	option = {
		name = EKSecretive140Acknowledge
		clr_quest = quest_opm_initiation
		
		if = {
			limit = { has_character_flag = opm_intro_total_fail }
			custom_tooltip = {
				text = EKSecretive140FailureTooltip
				
				hidden_tooltip = { long_character_event = { id = eksecretive.135 days = 365 random = 365 } }
			}
		}
		
		if = {
			limit = { has_character_flag = opm_intro_mild_fail }
			custom_tooltip = {
				text = EKSecretive140FailureTooltip
				
				hidden_tooltip = { long_character_event = { id = eksecretive.135 days = 100 random = 100 } }
			}
		}
		
		if = {
			limit = { has_character_flag = opm_intro_success }
			custom_tooltip = {
				text = EKSecretive140FailureTooltip
				
				hidden_tooltip = { character_event = { id = eksecretive.145 days = 5 random = 5 } }
			}
		}
	}
}

# Result of the shopkeeper assassination
character_event = {
	id = eksecretive.141
	picture = GFX_evt_shadow
	
	desc = {
		trigger = { has_character_flag = opm_intro_total_fail }
		text = EKSecretive141TotalFailure
	}
	
	desc = {
		trigger = { has_character_flag = opm_intro_mild_fail }
		text = EKSecretive141MildFailure
	}
	
	desc = {
		trigger = { has_character_flag = opm_intro_success }
		text = EKSecretive141Success
	}

	is_triggered_only = yes
	
	option = {
		name = EKSecretive141Acknowledge
		clr_quest = quest_opm_initiation
		
		if = {
			limit = { has_character_flag = opm_intro_total_fail }
			custom_tooltip = {
				text = EKSecretive140FailureTooltip
				
				hidden_tooltip = { long_character_event = { id = eksecretive.135 days = 365 random = 365 } }
			}
		}
		
		if = {
			limit = { has_character_flag = opm_intro_mild_fail }
			custom_tooltip = {
				text = EKSecretive140MildFailureTooltip
				
				hidden_tooltip = { long_character_event = { id = eksecretive.135 days = 100 random = 100 } }
			}
		}
		
		if = {
			limit = { has_character_flag = opm_intro_success }
			custom_tooltip = {
				text = EKSecretive140SuccessTooltip
				
				hidden_tooltip = { character_event = { id = eksecretive.145 days = 5 random = 5 } }
			}
		}
	}
}

# Result of the murder mansion
character_event = {
	id = eksecretive.142
	picture = GFX_evt_shadow
	
	desc = {
		trigger = { has_character_flag = opm_intro_total_fail }
		text = EKSecretive142TotalFailure
	}
	
	desc = {
		trigger = { has_character_flag = opm_intro_mild_fail }
		text = EKSecretive142MildFailure
	}
	
	desc = {
		trigger = { has_character_flag = opm_intro_success }
		text = EKSecretive142Success
	}

	is_triggered_only = yes
	
	option = {
		name = EKSecretive141Acknowledge
		clr_quest = quest_opm_initiation
		
		if = {
			limit = { has_character_flag = opm_intro_total_fail }
			custom_tooltip = {
				text = EKSecretive140FailureTooltip
				
				hidden_tooltip = { long_character_event = { id = eksecretive.135 days = 365 random = 365 } }
			}
		}
		
		if = {
			limit = { has_character_flag = opm_intro_mild_fail }
			custom_tooltip = {
				text = EKSecretive140MildFailureTooltip
				
				hidden_tooltip = { long_character_event = { id = eksecretive.135 days = 100 random = 100 } }
			}
		}
		
		if = {
			limit = { has_character_flag = opm_intro_success }
			custom_tooltip = {
				text = EKSecretive140SuccessTooltip
				
				hidden_tooltip = { character_event = { id = eksecretive.145 days = 5 random = 5 } }
			}
		}
		
		clr_character_flag = opm_intro_total_fail
		clr_character_flag = opm_intro_mild_fail
		clr_character_flag = opm_intro_success
	}
}

# You arrived at the town in which the Mist Walker lives in
character_event = {
	id = eksecretive.145
	picture = GFX_evt_shadow
	
	desc = EKSecretive145

	is_triggered_only = yes
	
	option = {
		name = EKSecretive145Acknowledge
		
		event_target:opm_master = {
			character_event = { id = eksecretive.150 days = 1 }
		}
	}
}

# The Mist Walker wants the new assassin to join them
character_event = {
	id = eksecretive.150
	picture = GFX_evt_shadow
	
	desc = EKSecretive150

	is_triggered_only = yes
	
	option = {
		name = EKSecretive150Acknowledge
		
		FROM = { character_event = { id = eksecretive.155 days = 1 } }
	}
}

# Are you going to accept?
character_event = {
	id = eksecretive.155
	picture = GFX_evt_shadow
	
	desc = EKSecretive155

	is_triggered_only = yes
	
	option = {
		name = EKSecretive155Acknowledge
		
		character_event = { id = eksecretive.160 days = 1 }
	}
}

# Congrats you're now part of the Order of the Pale Mist
character_event = {
	id = eksecretive.160
	picture = GFX_evt_shadow
	
	desc = EKSecretive160

	is_triggered_only = yes
	
	immediate = {
		join_society = assassin_guild_akavir
	}
	
	option = {
		name = EKSecretive160OptA
		add_society_currency_minor_effect = yes
		hidden_tooltip = {
			clr_character_flag = searching_for_assassin_guild_akavir
			clr_character_flag = society_join_block
		}
	}
	
	option = {
		name = EKSecretive160OptB
		add_society_currency_minor_effect = yes
		hidden_tooltip = {
			clr_character_flag = searching_for_assassin_guild_akavir
			clr_character_flag = society_join_block
		}
	}
	
	option = {
		name = EKSecretive160OptC
		add_society_currency_minor_effect = yes
		hidden_tooltip = {
			clr_character_flag = searching_for_assassin_guild_akavir
			clr_character_flag = society_join_block
		}
	}
}

#Thieves Guild/Camonna Tong Recruitment - Based on MNM assassins recruitment event chain
character_event = {
	id = eksecretive.200
	hide_window = yes
	
	min_age = 16
	capable_only = yes
	prisoner = no
	
	is_triggered_only = yes
	
	immediate = {
		set_character_flag = society_join_block
		
		if = {
			limit = { 
				interested_in_society = thieves_guild_tamriel 
			}
			random_society_member = {
				limit = {
					society_member_of = thieves_guild_tamriel
					#is_within_diplo_range = ROOT
					is_society_grandmaster = no
				}
				save_event_target_as = thieves_guild_recruiter
				
				thieves_guild_tamriel = { save_event_target_as = guild_thieves }
				character_event = { id = eksecretive.205 }
			}
		}
		
		if = {
			limit = { 
				interested_in_society = thieves_guild_akavir
			}
			random_society_member = {
				limit = {
					society_member_of = thieves_guild_akavir
					#is_within_diplo_range = ROOT
					is_society_grandmaster = no
				}
				save_event_target_as = thieves_guild_recruiter
				
				thieves_guild_akavir = { save_event_target_as = guild_thieves }
				character_event = { id = eksecretive.205 }
			}
		}
		
		else_if = {
			limit = { 
				interested_in_society = camonna_tong_tamriel 
			}
			random_society_member = {
				limit = {
					society_member_of = camonna_tong_tamriel
					#is_within_diplo_range = ROOT
					is_society_grandmaster = no
				}
				save_event_target_as = camonna_tong_recruiter
				character_event = { id = eksecretive.225 }
			}
		}	
	}
}

character_event = { 
	id = eksecretive.205
	hide_window = yes
	
	min_age = 16
	capable_only = yes
	prisoner = no

	is_triggered_only = yes

	immediate = {
		FROM = {
			if = {
				limit = { NOT = { has_character_flag = thieves_guild_recruiting } }
				set_character_flag = thieves_guild_recruiting
				long_character_event = { id = eksecretive.210 }
			}
		}
	}
}

#Thieves Guild Recruitment Starts
long_character_event = {
	id = eksecretive.210
	picture = GFX_evt_shadow
	desc = EKSecretive210
	
	min_age = 16
	capable_only = yes
	prisoner = no

	is_triggered_only = yes

	immediate = {
		if = { 
			limit = { NOT = { event_target:thieves_guild_recruiter = { always = yes } } }
			FROMFROM = { save_event_target_as = thieves_guild_recruiter }
		}
	}
	
	#Agrees to join Thieves
	option = {
		name = EKSecretive210Accept
		set_character_flag = willing_to_join
		
		hidden_effect = { event_target:thieves_guild_recruiter = { character_event = { id = eksecretive.215 } } }
		
		ai_chance = {
			factor = 1
		}
	}

	#Declines Thieves
	option = {
		name = EKSecretive210Decline
		clr_character_flag = society_join_block
		set_character_flag = unwilling_to_join
		
		hidden_effect = { event_target:thieves_guild_recruiter = { character_event = { id = eksecretive.215 } } }
		
		ai_chance = {
			factor = 0
		}
	}
	
}

#Does the recruit want to join or not? Reaction
character_event = {
	id = eksecretive.215
	picture = GFX_evt_shadow
	desc = {
		trigger = { FROM = { has_character_flag = willing_to_join } }
		text = EKSecretive215A
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { FROM = { has_character_flag = unwilling_to_join } }
		text = EKSecretive215B
		picture = GFX_evt_shadow
	}
	
	min_age = 16
	capable_only = yes
	prisoner = no

	is_triggered_only = yes
	
	#Agrees to join TG
	option = {
		name = EKSecretive215Acknowledge
		trigger = { FROM = { has_character_flag = willing_to_join } }
		hidden_effect = { FROM = { clr_character_flag = willing_to_join } }
		FROM = {
			long_character_event = { id = eksecretive.216 }
		}
	}

	#Declines TG
	option = {
		name = EKSecretive215Acknowledge
		trigger = { FROM = { has_character_flag = unwilling_to_join } }
		hidden_effect = { FROM = { clr_character_flag = unwilling_to_join } }
		hidden_effect = { FROM = { clr_character_flag = thieves_guild_recruiting } }
		FROM = {
			character_event = { id = eksecretive.217 }
		}
	}
}

long_character_event = {
	id = eksecretive.216
	picture = GFX_evt_shadow
	desc = EKSecretive216

	is_triggered_only = yes
	
	immediate = {
		join_society = event_target:guild_thieves
	}
	
	option = {
		name = EKSecretive216Acknowledge
		hidden_tooltip = {
			clr_character_flag = society_join_block
			clr_character_flag = thieves_guild_recruiting
			FROM = { clear_event_target = thieves_guild_recruiter }
		}
	}
}

#Not in the TG for now.
character_event = {
	id = eksecretive.217
	picture = GFX_evt_shadow
	desc = EKSecretive217

	is_triggered_only = yes
	
	option = {
		name = EKSecretive217Acknowledge
		hidden_effect = {
			FROM = { clear_event_target = thieves_guild_recruiter }
		}
	}
}

character_event = { 
	id = eksecretive.225
	hide_window = yes
	
	min_age = 16
	capable_only = yes
	prisoner = no

	is_triggered_only = yes

	immediate = {
		FROM = {
			if = {
				limit = { NOT = { has_character_flag = camonna_tong_recruiting } }
				set_character_flag = camonna_tong_recruiting
				long_character_event = { id = eksecretive.230 }
			}
		}
	}
}

#Camonna Tong Recruitment Starts
long_character_event = {
	id = eksecretive.230
	picture = GFX_evt_shadow
	desc = EKSecretive230
	
	min_age = 16
	capable_only = yes
	prisoner = no

	is_triggered_only = yes

	immediate = {
		if = { 
			limit = { NOT = { event_target:camonna_tong_recruiter = { always = yes } } }
			FROMFROM = { save_event_target_as = camonna_tong_recruiter }
		}
	}
	
	#Agrees to join CT
	option = {
		name = EKSecretive230Accept
		set_character_flag = willing_to_join
		
		hidden_effect = { event_target:camonna_tong_recruiter = { character_event = { id = eksecretive.235 } } }
		
		ai_chance = {
			factor = 1
		}
	}

	#Declines CT
	option = {
		name = EKSecretive230Decline
		clr_character_flag = society_join_block
		set_character_flag = unwilling_to_join
		
		hidden_effect = { event_target:camonna_tong_recruiter = { character_event = { id = eksecretive.235 } } }
		
		ai_chance = {
			factor = 0
		}
	}
	
}

#Does the recruit want to join or not? Reaction
character_event = {
	id = eksecretive.235
	picture = GFX_evt_shadow
	desc = {
		trigger = { FROM = { has_character_flag = willing_to_join } }
		text = EKSecretive235A
		picture = GFX_evt_shadow
	}
	desc = {
		trigger = { FROM = { has_character_flag = unwilling_to_join } }
		text = EKSecretive235B
		picture = GFX_evt_shadow
	}
	
	min_age = 16
	capable_only = yes
	prisoner = no

	is_triggered_only = yes
	
	#Agrees to join CT
	option = {
		name = EKSecretive235Acknowledge
		trigger = { FROM = { has_character_flag = willing_to_join } }
		hidden_effect = { FROM = { clr_character_flag = willing_to_join } }
		FROM = {
			long_character_event = { id = eksecretive.236 }
		}
	}

	#Declines CT
	option = {
		name = EKSecretive235Acknowledge
		trigger = { FROM = { has_character_flag = unwilling_to_join } }
		hidden_effect = { FROM = { clr_character_flag = unwilling_to_join } }
		hidden_effect = { FROM = { clr_character_flag = camonna_tong_recruiting } }
		FROM = {
			character_event = { id = eksecretive.237 }
		}
	}
}

long_character_event = {
	id = eksecretive.236
	picture = GFX_evt_shadow
	desc = EKSecretive236

	is_triggered_only = yes
	
	immediate = {
		join_society = camonna_tong_tamriel
	}
	
	option = {
		name = EKSecretive236Acknowledge
		hidden_tooltip = {
			clr_character_flag = society_join_block
			clr_character_flag = camonna_tong_recruiting
			FROM = { clear_event_target = camonna_tong_recruiter }
		}
	}
}

#Not in the CT for now.
character_event = {
	id = eksecretive.237
	picture = GFX_evt_shadow
	desc = EKSecretive237

	is_triggered_only = yes
	
	option = {
		name = EKSecretive237Acknowledge
		hidden_effect = {
			FROM = { clear_event_target = camonna_tong_recruiter }
		}
	}
}