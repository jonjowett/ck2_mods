###########################################
#                                         #
# RIP Treatment Events           		  #
# ID RIP.11000-RIP.11050                  #
#                                         #
###########################################

# Written by Markus Olsén
# Additional writing by Mathilda Bjarnehed & Milla Isaksson

namespace = RIP

#Severely wounded removed
character_event = {
	id = RIP.11000
	picture = GFX_evt_garden
	border = GFX_event_normal_frame_religion

	hide_from = yes

	trigger = {
		trait = severely_injured
	}

	desc = {
		picture = GFX_evt_recovery
		text = EVTDESCA_RIP_11000
		trigger = { NOT = { has_character_flag = pending_infection } }
	}

	desc = {
		picture = GFX_evt_bloody_tools
		text = EVTDESCB_RIP_11000
		trigger = { has_character_flag = pending_infection }
	}
	
	is_triggered_only = yes

	option = {
		name = EVTOPTA_RIP_11000
		trigger = { NOT = { has_character_flag = pending_infection } }
		remove_trait = severely_injured
		add_scarred_tiered_effect = yes
	}

	option = {
		name = EVTOPTB_RIP_11000
		trigger = { has_character_flag = pending_infection }
		remove_trait = severely_injured
		add_trait = infection
		add_scarred_tiered_effect = yes
		hidden_tooltip = {
			clr_character_flag = pending_infection
			character_event = { id = RIP.11001 days = 365 random = 1095 }
		}
	}
}

#####################################################
#Symptoms and Diseases removed after given time		#
#####################################################

#RIP.11001 Removing infection
#RIP.11002 Removing cough
#RIP.11003 Removing fever
#RIP.11004 Removing diarrhea
#RIP.11005 Removing vomiting
#RIP.11006 Removing chest pain
#RIP.11007 Removing cramps
#RIP.11008 Removing rash
#RIP.11009 Removing headache
#RIP.11010 Removing abdominal pain
#RIP.11011 Removing fatigue
#RIP.11012 Removing malaise

# Removing infection
character_event = {
	id = RIP.11001
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11001
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = infection
		hidden_tooltip = {
			if = {
				limit = { trait = wounded }
				character_event = { id = 6081 days = 14 random = 30 } # wound should heal soon after
			}
		}
	}
}

# Removing cough
character_event = {
	id = RIP.11002
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11002
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	trigger = {
		trait = cough
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = cough
		clr_character_flag = disease_not_serious
		hidden_tooltip = {
			remove_character_modifier = symptom_treatment_1
			remove_character_modifier = symptom_treatment_2
			remove_character_modifier = symptom_treatment_3
			remove_character_modifier = symptom_treatment_4
		}
	}
}

# Removing fever
character_event = {
	id = RIP.11003
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11003
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	trigger = {
		trait = fever
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = fever
		clr_character_flag = disease_not_serious
		hidden_tooltip = {
			remove_character_modifier = symptom_treatment_1
			remove_character_modifier = symptom_treatment_2
			remove_character_modifier = symptom_treatment_3
			remove_character_modifier = symptom_treatment_4
		}
	}
}

# Removing diarrhea
character_event = {
	id = RIP.11004
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11004
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	trigger = {
		trait = diarrhea
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = diarrhea
		clr_character_flag = disease_not_serious
		hidden_tooltip = {
			remove_character_modifier = symptom_treatment_1
			remove_character_modifier = symptom_treatment_2
			remove_character_modifier = symptom_treatment_3
			remove_character_modifier = symptom_treatment_4
		}
	}
}

# Removing vomiting
character_event = {
	id = RIP.11005
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11005
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	trigger = {
		trait = vomiting
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = vomiting
		clr_character_flag = disease_not_serious
		hidden_tooltip = {
			remove_character_modifier = symptom_treatment_1
			remove_character_modifier = symptom_treatment_2
			remove_character_modifier = symptom_treatment_3
			remove_character_modifier = symptom_treatment_4
		}
	}
}

# Removing chest pain
character_event = {
	id = RIP.11006
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11006
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	trigger = {
		trait = chest_pain
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = chest_pain
		clr_character_flag = disease_not_serious
		hidden_tooltip = {
			remove_character_modifier = symptom_treatment_1
			remove_character_modifier = symptom_treatment_2
			remove_character_modifier = symptom_treatment_3
			remove_character_modifier = symptom_treatment_4
		}
	}
}

# Removing cramps
character_event = {
	id = RIP.11007
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11007
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	trigger = {
		trait = cramps
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = cramps
		clr_character_flag = disease_not_serious
		hidden_tooltip = {
			remove_character_modifier = symptom_treatment_1
			remove_character_modifier = symptom_treatment_2
			remove_character_modifier = symptom_treatment_3
			remove_character_modifier = symptom_treatment_4
		}
	}
}

# Removing rash
character_event = {
	id = RIP.11008
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11008
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	trigger = {
		trait = rash
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = rash
		clr_character_flag = disease_not_serious
		hidden_tooltip = {
			remove_character_modifier = symptom_treatment_1
			remove_character_modifier = symptom_treatment_2
			remove_character_modifier = symptom_treatment_3
			remove_character_modifier = symptom_treatment_4
		}
	}
}

# Removing headache
character_event = {
	id = RIP.11009
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11009
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	trigger = {
		trait = headache
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = headache
		clr_character_flag = disease_not_serious
		hidden_tooltip = {
			remove_character_modifier = symptom_treatment_1
			remove_character_modifier = symptom_treatment_2
			remove_character_modifier = symptom_treatment_3
			remove_character_modifier = symptom_treatment_4
		}
	}
}

# Removing abdominal pain
character_event = {
	id = RIP.11010
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11010
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	trigger = {
		trait = abdominal_pain
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = abdominal_pain
		clr_character_flag = disease_not_serious
		hidden_tooltip = {
			remove_character_modifier = symptom_treatment_1
			remove_character_modifier = symptom_treatment_2
			remove_character_modifier = symptom_treatment_3
			remove_character_modifier = symptom_treatment_4
		}
	}
}

# Removing fatigue
character_event = {
	id = RIP.11011
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11011
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	trigger = {
		trait = fatigue
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = fatigue
		clr_character_flag = disease_not_serious
		hidden_tooltip = {
			remove_character_modifier = symptom_treatment_1
			remove_character_modifier = symptom_treatment_2
			remove_character_modifier = symptom_treatment_3
			remove_character_modifier = symptom_treatment_4
		}
	}
}

# Removing malaise
character_event = {
	id = RIP.11012
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11012
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes

	trigger = {
		trait = malaise
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = malaise
		clr_character_flag = disease_not_serious
		hidden_tooltip = {
			remove_character_modifier = symptom_treatment_1
			remove_character_modifier = symptom_treatment_2
			remove_character_modifier = symptom_treatment_3
			remove_character_modifier = symptom_treatment_4
		}
	}
}

######################
# Diseases			 #
######################
#RIP.11015 Removing flu
#RIP.11016 Removing dysentery
#RIP.11017 Removing gout
#RIP.11018 Removing food_poisoning
#RIP.11019 Removing rabies
#RIP.11020 Removing cancer
#All EK-specific diseases other than Knahaten are removed in ek_reapers_events.txt

# Removing flu
character_event = {
	id = RIP.11015
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11015
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = flu 
		OR = {
			had_character_flag = { flag = manifest_flu days = 30 } 
			NOT = { has_character_flag = manifest_flu }
		}
	}
	
	mean_time_to_happen = {
		months = 6
		modifier = {
			factor = 0.75
			base_health = 5.1
		}
		modifier = {
			factor = 0.5
			base_health = 6.0
		}
		modifier = {
			factor = 0.5
			base_health = 7.0
		}
		modifier = {
			factor = 1.5
			NOT = { base_health = 5.0 }
		}
		modifier = {
			factor = 2.0
			NOT = { base_health = 4.1 }
		}
		modifier = {
			factor = 0.66
			NOT = { age = 20 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 40 }
		}
		modifier = {
			factor = 2.0
			age = 50
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 70
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 225
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			age = 250
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			is_ill = yes
		}
		modifier = {
			factor = 4.0
			trait = infirm
		}
		modifier = {
			factor = 5.0
			trait = incapable
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = flu
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_flu
		clr_character_flag = manifest_flu
		
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}

# Removing dysentery
character_event = {
	id = RIP.11016
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11016
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = dysentery 
		OR = {
			had_character_flag = { flag = manifest_dysentery days = 30 } 
			NOT = { has_character_flag = manifest_dysentery }
		}
	}
	
	mean_time_to_happen = {
		months = 6
		modifier = {
			factor = 0.75
			base_health = 5.1
		}
		modifier = {
			factor = 0.5
			base_health = 6.0
		}
		modifier = {
			factor = 0.5
			base_health = 7.0
		}
		modifier = {
			factor = 1.5
			NOT = { base_health = 5.0 }
		}
		modifier = {
			factor = 2.0
			NOT = { base_health = 4.1 }
		}
		modifier = {
			factor = 0.66
			NOT = { age = 20 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 40 }
		}
		modifier = {
			factor = 2.0
			age = 50
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 70
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 225
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			age = 250
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			is_ill = yes
		}
		modifier = {
			factor = 4.0
			trait = infirm
		}
		modifier = {
			factor = 5.0
			trait = incapable
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = dysentery
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_dysentery
		clr_character_flag = manifest_dysentery
		
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}

# Removing gout
character_event = {
	id = RIP.11017
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11017
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = gout 
		health = 6
		OR = {
			had_character_flag = { flag = manifest_gout days = 2000 }
			NOT = { has_character_flag = manifest_gout }
		}
	}
	
	mean_time_to_happen = {
		years = 100
		
		modifier = {
			factor = 0.5
			health = 7
		}
		modifier = {
			factor = 0.5
			health = 8
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = gout
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_gout
		clr_character_flag = manifest_gout
		
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}

# Removing food poisoning
character_event = {
	id = RIP.11018
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11018
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = food_poisoning
		OR = {
			had_character_flag = { flag = manifest_food_poisoning days = 30 } 
			NOT = { has_character_flag = manifest_food_poisoning }
		}
	}
	
	mean_time_to_happen = {
		months = 3
		
		modifier = {
			factor = 2
			trait = gluttonous
		}
		modifier = {
			factor = 2
			trait = hedonist 
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = food_poisoning
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_food_poisoning
		clr_character_flag = manifest_food_poisoning
		
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}

# Removing rabies
character_event = {
	id = RIP.11019
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11019
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = rabies 
		OR = {
			had_character_flag = { flag = manifest_rabies days = 2000 } 
			NOT = { has_character_flag = manifest_rabies }
		}
	}
	
	mean_time_to_happen = {
		months = 25000 #good luck!
		
		modifier = {
			factor = 0.5
			health = 8
		}
		modifier = {
			factor = 0.5
			health = 9
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = rabies
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_rabies
		clr_character_flag = manifest_rabies
		
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}

# Removing cancer
character_event = {
	id = RIP.11020
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11020
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = cancer 
		OR = {
			had_character_flag = { flag = manifest_cancer days = 2000 }
			NOT = { has_character_flag = manifest_cancer }
		}
	}
	
	mean_time_to_happen = {
		years = 200
		
		modifier = {
			factor = 0.5
			health = 7
		}
		modifier = {
			factor = 0.5
			health = 8
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = cancer
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_cancer
		clr_character_flag = manifest_cancer
		
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}

#OLD DISEASES
# Removing pneumonia
character_event = {
	id = RIP.11021
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11021
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		base_health = 4
		trait = pneumonic 
		has_dlc = "Reapers"
		OR = {
			had_character_flag = { flag = manifest_pneumonia days = 30 }
			NOT = { has_character_flag = manifest_pneumonia }
		}
	}
	
	mean_time_to_happen = {
		months = 4
		modifier = {
			factor = 2.0
			NOT = { base_health = 5 }
		}
		modifier = {
			factor = 2.0
			NOT = { base_health = 4 }
		}
		modifier = {
			factor = 1.5
			trait = depressed
		}
		modifier = {
			factor = 1.5
			trait = stressed
		}
		modifier = {
			factor = 0.5
			base_health = 6
		}
		modifier = {
			factor = 0.5
			base_health = 7
		}
		modifier = {
			factor = 0.5
			base_health = 8
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = pneumonic
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_pneumonia
		clr_character_flag = manifest_pneumonia
		
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}
# Removing Great Pox (This isn't Syphilis, but Gonorrhea, therefore reduced MTTH drastically)
character_event = {
	id = RIP.11022
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11022
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = syphilitic 
		health = 6
		has_dlc = "Reapers"
		OR = {
			had_character_flag = { flag = manifest_syphilis days = 2000 }
			NOT = { has_character_flag = manifest_syphilis }
		}
	}
	
	mean_time_to_happen = {
		years = 10
		
		modifier = {
			factor = 0.5
			health = 8
		}
		modifier = {
			factor = 0.5
			health = 9
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = syphilitic
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_syphilis
		clr_character_flag = manifest_syphilis
		set_character_flag = immune_syphilis
		
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}

# Removing leprosy
#character_event = {
#	id = RIP.11023
#	picture = GFX_evt_recovery
#	desc = EVTDESC_RIP_11023
#	border = GFX_event_normal_frame_religion
#	
#	is_sick = yes
#
#	trigger = { 
#		trait = leper 
#		has_dlc = "Reapers"
#	}
#
#	option = {
#		name = EVTOPTA_RIP_11001
#		remove_trait = leper
#		clr_character_flag = developing_illness
#		clr_character_flag = got_leprosy 
#	}
#}

# Removing tuberculosis
character_event = {
	id = RIP.11024
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11024
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = has_tuberculosis 
		has_dlc = "Reapers"
		OR = {
			had_character_flag = { flag = manifest_tuberculosis days = 60 }
			NOT = { has_character_flag = manifest_tuberculosis }
		}
	}
	
	mean_time_to_happen = {
		months = 24
		
		modifier = {
			factor = 0.75
			base_health = 5.1
		}
		modifier = {
			factor = 0.5
			base_health = 6.0
		}
		modifier = {
			factor = 0.5
			base_health = 7.0
		}
		modifier = {
			factor = 1.5
			NOT = { base_health = 5.0 }
		}
		modifier = {
			factor = 2.0
			NOT = { base_health = 4.1 }
		}
		modifier = {
			factor = 0.66
			NOT = { age = 20 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 40 }
		}
		modifier = {
			factor = 2.0
			age = 50
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 70
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 225
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			age = 250
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			is_ill = yes
		}
		modifier = {
			factor = 4.0
			trait = infirm
		}
		modifier = {
			factor = 5.0
			trait = incapable
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = has_tuberculosis
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_tuberculosis
		clr_character_flag = manifest_tuberculosis
		set_character_flag = immune_tuberculosis
		
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}
# Removing typhoid fever
character_event = {
	id = RIP.11025
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11025
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = has_typhoid_fever 
		has_dlc = "Reapers"
		OR = {
			had_character_flag = { flag = manifest_typhoid_fever days = 30 }
			NOT = { has_character_flag = manifest_typhoid_fever }
		}
	}
	
	mean_time_to_happen = {
		months = 4
		
		modifier = {
			factor = 0.75
			base_health = 5.1
		}
		modifier = {
			factor = 0.5
			base_health = 6.0
		}
		modifier = {
			factor = 0.5
			base_health = 7.0
		}
		modifier = {
			factor = 1.5
			NOT = { base_health = 5.0 }
		}
		modifier = {
			factor = 2.0
			NOT = { base_health = 4.1 }
		}
		modifier = {
			factor = 0.66
			NOT = { age = 20 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 40 }
		}
		modifier = {
			factor = 2.0
			age = 50
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 70
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 225
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			age = 250
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			is_ill = yes
		}
		modifier = {
			factor = 4.0
			trait = infirm
		}
		modifier = {
			factor = 5.0
			trait = incapable
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = has_typhoid_fever
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_typhoid_fever
		clr_character_flag = manifest_typhoid_fever
		set_character_flag = immune_typhoid_fever
		
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}
# Removing typhus
character_event = {
	id = RIP.11026
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11026
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = has_typhus
		has_dlc = "Reapers"
		OR = {
			had_character_flag = { flag = manifest_typhus days = 60 }
			NOT = { has_character_flag = manifest_typhus }
		}
	}
	
	mean_time_to_happen = {
		months = 12
		
		modifier = {
			factor = 0.75
			base_health = 5.1
		}
		modifier = {
			factor = 0.5
			base_health = 6.0
		}
		modifier = {
			factor = 0.5
			base_health = 7.0
		}
		modifier = {
			factor = 1.5
			NOT = { base_health = 5.0 }
		}
		modifier = {
			factor = 2.0
			NOT = { base_health = 4.1 }
		}
		modifier = {
			factor = 0.66
			NOT = { age = 20 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 40 }
		}
		modifier = {
			factor = 2.0
			age = 50
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 70
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 225
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			age = 250
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			is_ill = yes
		}
		modifier = {
			factor = 4.0
			trait = infirm
		}
		modifier = {
			factor = 5.0
			trait = incapable
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = has_typhus
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_typhus
		clr_character_flag = manifest_typhus
		set_character_flag = immune_typhus
		
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}
# Removing bubonic plague
character_event = {
	id = RIP.11027
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11027
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = has_bubonic_plague
		has_dlc = "Reapers"
		OR = {
			had_character_flag = { flag = manifest_bubonic_plague days = 30 }
			NOT = { has_character_flag = manifest_bubonic_plague }
		}
	}
	
	mean_time_to_happen = {
		months = 3
		modifier = {
			factor = 0.75
			base_health = 5.1
		}
		modifier = {
			factor = 0.5
			base_health = 6.0
		}
		modifier = {
			factor = 0.5
			base_health = 7.0
		}
		modifier = {
			factor = 1.5
			NOT = { base_health = 5.0 }
		}
		modifier = {
			factor = 2.0
			NOT = { base_health = 4.1 }
		}
		modifier = {
			factor = 0.66
			NOT = { age = 20 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 40 }
		}
		modifier = {
			factor = 2.0
			age = 50
		}
		modifier = {
			factor = 2.0
			age = 70
		}
		modifier = {
			factor = 2.0
			is_ill = yes
		}
		modifier = {
			factor = 4.0
			trait = infirm
		}
		modifier = {
			factor = 5.0
			trait = incapable
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = has_bubonic_plague
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_bubonic_plague
		clr_character_flag = manifest_bubonic_plague
		set_character_flag = immune_bubonic_plague
		
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}
# Removing measles (Crimson Plague)
character_event = {
	id = RIP.11028
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11028
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = has_measles 
		has_dlc = "Reapers"
		OR = {
			had_character_flag = { flag = manifest_measles days = 30 }
			NOT = { has_character_flag = manifest_measles }
		}
	}
	
	mean_time_to_happen = {
		months = 5
		
		modifier = {
			factor = 0.75
			base_health = 5.1
		}
		modifier = {
			factor = 0.5
			base_health = 6.0
		}
		modifier = {
			factor = 0.5
			base_health = 7.0
		}
		modifier = {
			factor = 1.5
			NOT = { base_health = 5.0 }
		}
		modifier = {
			factor = 2.0
			NOT = { base_health = 4.1 }
		}
		modifier = {
			factor = 0.66
			NOT = { age = 20 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 40 }
		}
		modifier = {
			factor = 2.0
			age = 50
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 70
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 225
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			age = 250
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			is_ill = yes
		}
		modifier = {
			factor = 4.0
			trait = infirm
		}
		modifier = {
			factor = 5.0
			trait = incapable
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = has_measles
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_measles
		clr_character_flag = manifest_measles
		set_character_flag = immune_measles
		
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}
# Removing smallpox
character_event = {
	id = RIP.11029
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11029
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = { 
		trait = has_small_pox 
		has_dlc = "Reapers"
		OR = {
			had_character_flag = { flag = manifest_small_pox days = 30 }
			NOT = { has_character_flag = manifest_small_pox }
		}
	}
	
	mean_time_to_happen = {
		months = 5
		
		modifier = {
			factor = 0.75
			base_health = 5.1
		}
		modifier = {
			factor = 0.5
			base_health = 6.0
		}
		modifier = {
			factor = 0.5
			base_health = 7.0
		}
		modifier = {
			factor = 1.5
			NOT = { base_health = 5.0 }
		}
		modifier = {
			factor = 2.0
			NOT = { base_health = 4.1 }
		}
		modifier = {
			factor = 0.66
			NOT = { age = 20 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0.75
			NOT = { age = 40 }
		}
		modifier = {
			factor = 2.0
			age = 50
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 70
			is_mer = no
		}
		modifier = {
			factor = 2.0
			age = 225
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			age = 250
			is_mer = yes
		}
		modifier = {
			factor = 2.0
			is_ill = yes
		}
		modifier = {
			factor = 4.0
			trait = infirm
		}
		modifier = {
			factor = 5.0
			trait = incapable
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = has_small_pox
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_smallpox
		clr_character_flag = manifest_small_pox
		set_character_flag = immune_smallpox
		
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}
# Removing Aztec disease (Syphilis)
character_event = {
	id = RIP.11030
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11030
	border = GFX_event_normal_frame_religion
	
	is_sick = yes

	trigger = {
		trait = has_aztec_disease
		health = 6
		has_dlc = "Reapers"
		OR = {
			had_character_flag = { flag = manifest_aztec_disease days = 2000 }
			NOT = { has_character_flag = manifest_aztec_disease }
		}
	}
	
	mean_time_to_happen = {
		years = 2100
		
		modifier = {
			factor = 0.5
			health = 8
		}
		modifier = {
			factor = 0.5
			health = 9
		}
	}

	option = {
		name = EVTOPTA_RIP_11001
		remove_trait = has_aztec_disease
		clear_disease_level_effect = yes
		clr_character_flag = developing_illness
		clr_character_flag = got_aztec_disease
		clr_character_flag = manifest_aztec_disease
		set_character_flag = immune_aztec_disease
		
		hidden_tooltip = {
			remove_treatment_modifiers_effect = yes
		}
	}
}


######################################################################################
# Diagnosis events
######################################################################################
# RIP.11021

# Ping doctor
character_event = {
	id = RIP.11031
	hide_window = yes
	
	is_triggered_only = yes

	trigger = {
		has_minor_title = title_court_physician
		FROM = {
			prisoner = no
			OR = {
				character_disease_trigger = yes
				# AND = {
					# trait = leper
					# #has_character_flag = new_leper_character
				# }
				AND = {
					NOR = { 
						has_character_modifier = symptom_treatment_1
						has_character_modifier = symptom_treatment_2
						has_character_modifier = symptom_treatment_3
						has_character_modifier = symptom_treatment_4
					}
					OR = {
						NOT = { has_character_flag = being_treated }
						had_character_flag = { flag = being_treated days = 20 }
					}
					OR = {
						trait = cough
						trait = fever
						trait = diarrhea
						trait = vomiting
						trait = chest_pain
						trait = cramps
						trait = rash
						trait = headache
						trait = abdominal_pain
						trait = fatigue
						trait = malaise
					}
				}
			}
		}
	}

	immediate = {
		if = {
			limit = {
				FROM = {
					NOT = { has_character_flag = seclusion_treatment_approved }
					has_character_modifier = in_seclusion
					has_epidemic_disease_trigger = yes
					host = { NOT = { character = PREV } }
				}
			}
			save_event_target_as = court_physician
			FROM = {
				save_event_target_as = epidemic_victim
			}
			liege = { character_event = { id = RIP.12014 } }
			break = yes
		}
		FROM = { set_character_flag = being_treated }
		if = {
			limit = {
				FROM = {
					OR = {
						trait = cough
						trait = fever
						trait = diarrhea
						trait = vomiting
						trait = chest_pain
						trait = cramps
						trait = rash
						trait = headache
						trait = abdominal_pain
						trait = fatigue
						trait = malaise
					}
				}
			}
			FROM = {
				character_event = { id = RIP.11045 days = 1 random = 2 }
			}
			break = yes
		}
		#if = {
		#	limit = {
		#		FROM = {
		#			trait = leper
		#			has_character_flag = new_leper_character
		#		}
		#	}
		#	FROM = {
		#		character_event = { id = RIP.11062 days = 2 random = 4 }
		#	}
		#	break = yes
		#}
		if = {
			limit = {
				FROM = {
					character_disease_trigger = yes
				}
			}
			FROM = {
				character_event = { id = RIP.11035 days = 2 random = 4 }
			}
		}
	}
}

character_event = {
	id = RIP.11032
	hide_window = yes
	
	is_triggered_only = yes

	# We target the court physician and send event back
	immediate = {
		event_target:court_physician = { 
			character_event = { id = RIP.11031 }
		}
	}
}

character_event = {
	id = RIP.11035
	picture = GFX_evt_court_physician
	desc = EVTDESC_RIP_11035
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	trigger = {
		character_disease_trigger = yes
	}
	
	immediate = {
		remove_character_modifier = symptom_treatment_1
		remove_character_modifier = symptom_treatment_2
		remove_character_modifier = symptom_treatment_3
		remove_character_modifier = symptom_treatment_4
	}

	# SPELLCASTING - The healer uses a Cure Disease spell. It depends on their Learning and some other traits.
	option = {
		name = EVTOPTA_RIP_11035
		custom_tooltip = {
			text = EVTOPTA_RIP_11035_TOOLTIP # Explain experimental treatment 
		}

		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 0
				scaled_wealth = 5
				FROM = {
					NOT = { learning = 20 }
				}
			}
			
			modifier = {
				factor = 5
				FROM = {
					learning = 20
				}
			}
			
			modifier = {
				factor = 10
				FROM = {
					learning = 30
				}
			}
		}
		

		hidden_tooltip = {
			random_list = {
				#Success!
				50 = {
					modifier = {
						factor = 1.2
						is_strong_trigger = yes
					}
					modifier = {
						factor = 1.2
						FROM = {
							is_healer = yes
						}
					}
					modifier = {
						factor = 0
						FROM = {
							NOT = {
								learning = 1
							}
						}
					}
					modifier = {
						factor = 0.1
						FROM = {
							learning = 1
							NOT = {
								learning = 2
							}
						}
					}
					modifier = {
						factor = 0.2
						FROM = {
							learning = 2
							NOT = {
								learning = 3
							}
						}
					}
					modifier = {
						factor = 0.3
						FROM = {
							learning = 3
							NOT = {
								learning = 4
							}
						}
					}
					modifier = {
						factor = 0.4
						FROM = {
							learning = 4
							NOT = {
								learning = 5
							}
						}
					}
					modifier = {
						factor = 0.5
						FROM = {
							learning = 5
							NOT = {
								learning = 6
							}
						}
					}
					modifier = {
						factor = 0.6
						FROM = {
							learning = 6
							NOT = {
								learning = 7
							}
						}
					}
					modifier = {
						factor = 0.7
						FROM = {
							learning = 7
							NOT = {
								learning = 8
							}
						}
					}
					modifier = {
						factor = 0.8
						FROM = {
							learning = 8
							NOT = {
								learning = 9
							}
						}
					}
					modifier = {
						factor = 0.9
						FROM = {
							learning = 9
							NOT = {
								learning = 10
							}
						}
					}
					modifier = {
						factor = 1.1
						FROM = {
							learning = 11
						}
					}
					modifier = {
						factor = 1.1
						FROM = {
							learning = 12
						}
					}
					modifier = {
						factor = 1.1
						FROM = {
							learning = 13
						}
					}
					modifier = {
						factor = 1.1
						FROM = {
							learning = 14
						}
					}
					modifier = {
						factor = 1.25
						FROM = {
							learning = 15
						}
					}
					modifier = {
						factor = 1.25
						FROM = {
							learning = 16
						}
					}
					modifier = {
						factor = 1.25
						FROM = {
							learning = 17
						}
					}
					modifier = {
						factor = 1.25
						FROM = {
							learning = 18
						}
					}
					modifier = {
						factor = 1.25
						FROM = {
							learning = 19
						}
					}
					modifier = {
						factor = 1.5
						FROM = {
							learning = 20
						}
					}
					modifier = {
						factor = 1.5
						FROM = {
							learning = 21
						}
					}
					modifier = {
						factor = 1.5
						FROM = {
							learning = 22
						}
					}
					modifier = {
						factor = 1.5
						FROM = {
							learning = 23
						}
					}
					modifier = {
						factor = 1.5
						FROM = {
							learning = 24
						}
					}
					modifier = {
						factor = 1.5
						FROM = {
							learning = 25
						}
					}
					modifier = {
						factor = 1.5
						FROM = {
							learning = 26
						}
					}
					modifier = {
						factor = 1.5
						FROM = {
							learning = 27
						}
					}
					modifier = {
						factor = 1.5
						FROM = {
							learning = 28
						}
					}
					modifier = {
						factor = 1.5
						FROM = {
							learning = 29
						}
					}
					modifier = {
						factor = 1.5
						FROM = {
							learning = 30
						}
					}
					modifier = {
						factor = 0.8
						is_weak_trigger = yes
					}
					modifier = {
						factor = 0.6
						FROM = { physician_bad_trigger = yes }
					}
					modifier = {
						factor = 1.2
						FROM = { physician_good_trigger = yes }
					}
					modifier = {
						factor = 1.2
						FROM = {
							opinion = { who = ROOT value = 0 }
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							opinion = { who = ROOT value = 25 }
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							opinion = { who = ROOT value = 50 }
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							opinion = { who = ROOT value = 75 }
						}
					}

					random_list = {
						#Regular treatment
						80 = { set_character_flag = good_treatment_outcome }
						#Drastic treatment
						20 = {
							modifier = {
								factor = 4
								OR = {
									FROM = { NOT = { learning = 15 } }
									FROM = { trait = wroth }
									FROM = { trait = arbitrary }
									FROM = { trait = brave }
									FROM = { trait = ambitious }
									FROM = { learning = 25 }
									FROM = { physician_good_trigger = yes }
								}
							}
							set_character_flag = amazing_treatment_outcome
						}
					}
				}
				#Failure!
				50 = {
					modifier = {
						factor = 0.8
						is_strong_trigger = yes
					}
					modifier = {
						factor = 1.2
						is_weak_trigger = yes
					}
					modifier = {
						factor = 1.4
						FROM = { physician_bad_trigger = yes }
					}
					modifier = {
						factor = 1.2
						FROM = {
							NOT = { opinion = { who = ROOT value = 0 } }
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							NOT = { opinion = { who = ROOT value = -25 } }
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							NOT = { opinion = { who = ROOT value = -50 } }
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							NOT = { opinion = { who = ROOT value = -75 } }
						}
					}
					modifier = {
						factor = 0.8
						FROM = { physician_good_trigger = yes }
					}

					random_list = {
						#Regular treatment
						80 = { set_character_flag = bad_treatment_outcome }
						#Drastic treatment
						20 = {
							modifier = {
								factor = 4
								OR = {
									FROM = { NOT = { learning = 15 } }
									FROM = { trait = wroth }
									FROM = { trait = arbitrary }
									FROM = { trait = brave }
									FROM = { trait = ambitious }
									FROM = { learning = 25 }
									FROM = { physician_good_trigger = yes }
								}
							}
							set_character_flag = terrible_treatment_outcome
						}
					}
				}
			}

			character_event = { id = RIP.11040 days = 3 }
		}
	}

	# SCROLLS - The healer purchases a scroll of Cure Disease. Quite likely to work except against the most potent ailments, but costly.
	option = {
		name = EVTOPTB_RIP_11035
		trigger = {
			scaled_wealth = 2
		}
		custom_tooltip = {
			text = EVTOPTB_RIP_11035_TOOLTIP # Explain regular treatment
		}
		
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 5
				scaled_wealth = 2.5
			}
			
			modifier = {
				factor = 5
				FROM = {
					NOT = { learning = 8 }
				}
			}
			
			modifier = {
				factor = 2.0
				trait = cynical
			}
			
			modifier = {
				factor = 0.5
				trait = greedy
			}
		}
		
		scaled_wealth = -2
		hidden_tooltip = {
			random_list = {
				90 = {
					modifier = {
						factor = 1.2
						is_strong_trigger = yes
					}
					modifier = {
						factor = 1.2
						FROM = {
							is_healer = yes
						}
					}
					modifier = {
						factor = 0.8
						is_weak_trigger = yes
					}
					modifier = {
						factor = 1.2
						FROM = { physician_good_trigger = yes }
					}
					modifier = {
						factor = 1.2
						FROM = {
							opinion = { who = ROOT value = 0 }
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							opinion = { who = ROOT value = 25 }
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							opinion = { who = ROOT value = 50 }
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							opinion = { who = ROOT value = 75 }
						}
					}
					set_character_flag = good_treatment_outcome
				}
				10 = {
					modifier = {
						factor = 0.8
						is_strong_trigger = yes
					}
					modifier = {
						factor = 1.2
						is_weak_trigger = yes
					}
					modifier = {
						factor = 1.2
						FROM = { physician_bad_trigger = yes }
					}
					modifier = {
						factor = 1.2
						FROM = {
							NOT = { opinion = { who = ROOT value = 0 } }
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							NOT = { opinion = { who = ROOT value = -25 } }
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							NOT = { opinion = { who = ROOT value = -50 } }
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							NOT = { opinion = { who = ROOT value = -75 } }
						}
					}
					set_character_flag = bad_treatment_outcome
				}
			}
			character_event = { id = RIP.11041 days = 3 }
		}
	}
	# ALCHEMY - The healer brews a Cure Disease potion. Similar to spellcasting except has a slight cost, less reliant on skills.
	option = {
		name = EVTOPTC_RIP_11035
		trigger = { scaled_wealth = 0.25 }
		custom_tooltip = {
			text = EVTOPTC_RIP_11035_TOOLTIP # Explain cautious treatment
		}
		
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 0
				NOT = {
					scaled_wealth = 0.5
				}
			}
			
			modifier = {
				factor = 3
				FROM = {
					NOT = { learning = 12 }
				}
			}
			
			modifier = {
				factor = 2.0
				trait = humble
			}
			
			modifier = {
				factor = 0.5
				trait = trusting
			}
		}
		
		scaled_wealth = -0.25
		hidden_tooltip = {
			random_list = {
				60 = {
					modifier = {
						factor = 1.2
						FROM = {
							is_healer = yes
						}
					}
					modifier = {
						factor = 1.2
						is_strong_trigger = yes
					}
					modifier = {
						factor = 0.8
						is_weak_trigger = yes
					}
					modifier = {
						factor = 0
						FROM = {
							NOT = {
								learning = 1
							}
						}
					}
					modifier = {
						factor = 0.2
						FROM = {
							learning = 1
							NOT = {
								learning = 2
							}
						}
					}
					modifier = {
						factor = 0.4
						FROM = {
							learning = 2
							NOT = {
								learning = 3
							}
						}
					}
					modifier = {
						factor = 0.6
						FROM = {
							learning = 3
							NOT = {
								learning = 4
							}
						}
					}
					modifier = {
						factor = 0.8
						FROM = {
							learning = 4
							NOT = {
								learning = 5
							}
						}
					}
					modifier = {
						factor = 1.1
						FROM = {
							learning = 6
							NOT = {
								learning = 7
							}
						}
					}
					modifier = {
						factor = 1.1
						FROM = {
							learning = 7
							NOT = {
								learning = 8
							}
						}
					}
					modifier = {
						factor = 1.1
						FROM = {
							learning = 8
							NOT = {
								learning = 9
							}
						}
					}
					modifier = {
						factor = 1.1
						FROM = {
							learning = 9
							NOT = {
								learning = 10
							}
						}
					}
					modifier = {
						factor = 1.1
						FROM = {
							learning = 11
						}
					}
					modifier = {
						factor = 1.1
						FROM = {
							learning = 12
						}
					}
					modifier = {
						factor = 1.1
						FROM = {
							learning = 13
						}
					}
					modifier = {
						factor = 1.1
						FROM = {
							learning = 14
						}
					}
					modifier = {
						factor = 1.1
						FROM = {
							learning = 15
						}
					}
					modifier = {
						factor = 1.1
						FROM = {
							learning = 16
						}
					}
					modifier = {
						factor = 1.1
						FROM = {
							learning = 17
						}
					}
					modifier = {
						factor = 1.1
						FROM = {
							learning = 18
						}
					}
					modifier = {
						factor = 1.1
						FROM = {
							learning = 19
						}
					}
					modifier = {
						factor = 1.1
						FROM = {
							learning = 20
						}
					}
					modifier = {
						factor = 1.2
						FROM = { physician_good_trigger = yes }
					}
					modifier = {
						factor = 1.2
						FROM = {
							opinion = { who = ROOT value = 0 }
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							opinion = { who = ROOT value = 25 }
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							opinion = { who = ROOT value = 50 }
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							opinion = { who = ROOT value = 75 }
						}
					}
					set_character_flag = good_treatment_outcome
				}
				20 = {
					modifier = {
						factor = 0.8
						is_strong_trigger = yes
					}
					modifier = {
						factor = 1.2
						is_weak_trigger = yes
					}
					modifier = {
						factor = 1.2
						FROM = { physician_bad_trigger = yes }
					}
					modifier = {
						factor = 1.2
						FROM = {
							NOT = { opinion = { who = ROOT value = 0 } }
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							NOT = { opinion = { who = ROOT value = -25 } }
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							NOT = { opinion = { who = ROOT value = -50 } }
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							NOT = { opinion = { who = ROOT value = -75 } }
						}
					}
					set_character_flag = bad_treatment_outcome
				}
			}
			character_event = { id = RIP.11042 days = 3 }
		}
	}

	# Do nothing
	option = {
		name = EVTOPTD_RIP_11035
		
		ai_chance = {
			factor = 0
		}
		
		custom_tooltip = {
			text = EVTOPTD_RIP_11035_TOOLTIP # Explain you'd rather be left alone
			if = {
				limit = {
					trait = craven
				}
				prestige = -20
				break = yes
			}
			if = {
				limit = {
					NOR = { 
						trait = craven
						trait = brave
						trait = reckless
						trait = berserker
					}
				}
				add_trait = craven
				break = yes
			}
			if = {
				limit = {
					trait = brave
				}
				remove_trait = brave
			}
		}
	}
}

#SPELL treatment outcome
character_event = {
	id = RIP.11040
	picture = GFX_evt_doctor_crazy_treatment
	border = GFX_event_normal_frame_religion

	desc = {
		text = EVTDESC_RIP_11040_1
		trigger = {
			has_character_flag = EVTDESC_RIP_11040_1_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11040_2
		trigger = {
			has_character_flag = EVTDESC_RIP_11040_2_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11040_3
		trigger = {
			has_character_flag = EVTDESC_RIP_11040_3_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11040_4
		trigger = {
			has_character_flag = EVTDESC_RIP_11040_4_FLAG
		}
	}


	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				has_character_flag = good_treatment_outcome
			}
			set_character_flag = EVTDESC_RIP_11040_1_FLAG
		}
		if = {
			limit = {
				has_character_flag = bad_treatment_outcome
			}
			set_character_flag = EVTDESC_RIP_11040_2_FLAG
		}
		if = {
			limit = {
				has_character_flag = amazing_treatment_outcome
			}
			set_character_flag = EVTDESC_RIP_11040_3_FLAG
		}
		if = {
			limit = {
				has_character_flag = terrible_treatment_outcome
			}
			set_character_flag = EVTDESC_RIP_11040_4_FLAG
		}
	}

	option = { #Good outcome
		name = EVTOPTA_RIP_11040
		trigger = {
			has_character_flag = good_treatment_outcome
		}
		if = {
			limit = { 
				NOR = {
					trait = cancer
					trait = gout
					trait = syphilitic
				}
			}
			add_character_modifier = {
				name = successful_treatment_3
				duration = 730
			}	
		}
		if = {
			limit = { 
				OR = {
					trait = cancer
					trait = gout
					trait = syphilitic
				}
			}
			add_character_modifier = {
				name = successful_treatment_3
				duration = 1825
			}	
		}

		if = {
			limit = {
				host = {
					NOT = { character = ROOT }
					OR = {
						AND = {
							is_married = yes
							any_spouse = { character = ROOT }
						}
						is_child_of = ROOT
						is_father = ROOT
						is_mother = ROOT
						is_lover = ROOT
						sibling = ROOT
					}
				}
			}
			host = { 
				character_event = { id = RIP.11061 }
				if = {
					limit = {
						is_ruler = no
						FROMFROM = {
							NOT = {
								has_character_flag = ek_renown_physician_flag
							}
						}
					}
					random = {
						chance = 10
						character_event = { id = RIP.11065 } 
					}
				}
			}
		}

		clr_character_flag = good_treatment_outcome
		clr_character_flag = being_treated
		set_character_flag = recent_treatment
		clr_character_flag = EVTDESC_RIP_11040_1_FLAG
	}

	option = { #Bad outcome
		name = EVTOPTB_RIP_11040
		trigger = {
			has_character_flag = bad_treatment_outcome
		}
		add_character_modifier = {
			name = failed_treatment_1
			duration = 365
		}

		if = {
			limit = {
				host = {
					NOT = { character = ROOT }
					OR = {
						AND = {
							is_married = yes
							any_spouse = { character = ROOT }
						}
						is_child_of = ROOT
						is_father = ROOT
						is_mother = ROOT
						is_lover = ROOT
						sibling = ROOT
					}
				}
			}
			if = {
				limit = { 
					is_ruler = no
					FROMFROM = {
						ai = yes
					}
				}
				host = { character_event = { id = RIP.11060 } }
			}
		}
		
		clr_character_flag = bad_treatment_outcome
		clr_character_flag = being_treated
		set_character_flag = recent_treatment
		clr_character_flag = EVTDESC_RIP_11040_2_FLAG
	}

	option = { #Amazing outcome
		name = EVTOPTC_RIP_11040
		trigger = { has_character_flag = amazing_treatment_outcome }

		custom_tooltip = { text = CURED_RIP_TOOLTIP }

		hidden_tooltip = {
			if = { limit = { trait = flu } remove_trait = flu }
			if = { limit = { trait = dysentery } remove_trait = dysentery }
			if = { limit = { trait = gout }	remove_trait = gout }
			if = { limit = { trait = food_poisoning } remove_trait = food_poisoning }
			if = { limit = { trait = rabies } remove_trait = rabies }
			if = { limit = { trait = cancer } remove_trait = cancer }
			if = { limit = { trait = pneumonic } remove_trait = pneumonic }
			if = { limit = { trait = cholera } remove_trait = cholera }
			if = { limit = { trait = dampworm } remove_trait = dampworm }
			if = { limit = { trait = witches_pox } remove_trait = witches_pox }
			if = { limit = { trait = greenspore } remove_trait = greenspore }
			if = { limit = { trait = rockjoint } remove_trait = rockjoint }
			if = { limit = { trait = stomach_rot } remove_trait = stomach_rot }
			if = { limit = { trait = chrondiasis } remove_trait = chrondiasis }
			if = { limit = { trait = lovers_pox } remove_trait = lovers_pox }
			if = { limit = { trait = leper } remove_trait = leper }
			if = { limit = { trait = syphilitic } remove_trait = syphilitic }       
			if = { limit = { trait = has_tuberculosis } remove_trait = has_tuberculosis }
			if = { limit = { trait = has_typhoid_fever } remove_trait = has_typhoid_fever }
			if = { limit = { trait = has_typhus } remove_trait = has_typhus }
			if = { limit = { trait = has_bubonic_plague } remove_trait = has_bubonic_plague }
			if = { limit = { trait = has_knahaten_flu } remove_trait = has_knahaten_flu }
			if = { limit = { trait = has_swamp_rot } remove_trait = has_swamp_rot }
			if = { limit = { trait = has_measles } remove_trait = has_measles }
			if = { limit = { trait = has_small_pox } remove_trait = has_small_pox }
			if = { limit = { trait = has_aztec_disease } remove_trait = has_aztec_disease }
			if = { limit = { trait = scurvy } remove_trait = scurvy }
			remove_treatment_modifiers_effect = yes
			clear_disease_level_effect = yes
			remove_disease_flags_effect = yes
			set_character_flag = seen_the_light_of_modern_medicine
		}

		if = {
			limit = {
				host = {
					NOT = { character = ROOT }
					OR = {
						AND = {
							is_married = yes
							any_spouse = { character = ROOT }
						}
						is_child_of = ROOT
						is_father = ROOT
						is_mother = ROOT
						is_lover = ROOT
						sibling = ROOT
					}
				}
			}
			host = { 
				character_event = { id = RIP.11061 }
				if = {
					limit = {
						FROMFROM = {
							NOT = {
								has_character_flag = ek_renown_physician_flag
							}
						}
					}
					random = {
						chance = 10
						character_event = { id = RIP.11065 } 
					}
				}
			}
		}

		clr_character_flag = amazing_treatment_outcome
		clr_character_flag = being_treated
		set_character_flag = recent_treatment
		clr_character_flag = EVTDESC_RIP_11040_3_FLAG
	}

	option = { #Terrible outcome
		name = EVTOPTD_RIP_11040
		trigger = { has_character_flag = terrible_treatment_outcome }
		add_character_modifier = {
			name = failed_treatment_2
			duration = 365
		}
		if = {
			limit = {
				host = {
					NOT = { character = ROOT }
					OR = {
						AND = {
							is_married = yes
							any_spouse = { character = ROOT }
						}
						is_child_of = ROOT
						is_father = ROOT
						is_mother = ROOT
						is_lover = ROOT
						sibling = ROOT
					}
				}
			}
			if = {
				limit = { 
					FROMFROM = {
						ai = yes
					}
				}
				host = { character_event = { id = RIP.11060 } }
			}
		}

		clr_character_flag = terrible_treatment_outcome
		clr_character_flag = being_treated
		set_character_flag = recent_treatment
		clr_character_flag = EVTDESC_RIP_11040_4_FLAG

		ROOT = {
			opinion = {
				modifier = opinion_traitor
				who = FROMFROM
			}
		}
	}
}

#SCROLL treatment outcome
character_event = {
	id = RIP.11041
	picture = GFX_evt_recovery
	border = GFX_event_normal_frame_religion
	
	desc = {
		text = EVTDESC_RIP_11041_1
		trigger = {
			has_character_flag = EVTDESC_RIP_11041_1_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11041_2
		trigger = {
			has_character_flag = EVTDESC_RIP_11041_2_FLAG
		}
	}

	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				has_character_flag = good_treatment_outcome
			}
			set_character_flag = EVTDESC_RIP_11041_1_FLAG
		}
		if = {
			limit = {
				has_character_flag = bad_treatment_outcome
			}
			set_character_flag = EVTDESC_RIP_11041_2_FLAG
		}
	} 

	option = { #good outcome
		name = EVTOPTA_RIP_11041
		trigger = {
			has_character_flag = good_treatment_outcome
		}
		
		custom_tooltip = { text = CURED_RIP_TOOLTIP }

		hidden_tooltip = {
			if = { limit = { trait = flu } remove_trait = flu }
			if = { limit = { trait = dysentery } remove_trait = dysentery }
			if = { limit = { trait = gout }	remove_trait = gout }
			if = { limit = { trait = food_poisoning } remove_trait = food_poisoning }
			if = { limit = { trait = rabies } remove_trait = rabies }
			if = { limit = { trait = cancer } remove_trait = cancer }
			if = { limit = { trait = pneumonic } remove_trait = pneumonic }
			if = { limit = { trait = cholera } remove_trait = cholera }
			if = { limit = { trait = dampworm } remove_trait = dampworm }
			if = { limit = { trait = witches_pox } remove_trait = witches_pox }
			if = { limit = { trait = greenspore } remove_trait = greenspore }
			if = { limit = { trait = rockjoint } remove_trait = rockjoint }
			if = { limit = { trait = stomach_rot } remove_trait = stomach_rot }
			if = { limit = { trait = chrondiasis } remove_trait = chrondiasis }
			if = { limit = { trait = lovers_pox } remove_trait = lovers_pox }
			if = { limit = { trait = leper } remove_trait = leper }
			if = { limit = { trait = syphilitic } remove_trait = syphilitic }       
			if = { limit = { trait = has_tuberculosis } remove_trait = has_tuberculosis }
			if = { limit = { trait = has_typhoid_fever } remove_trait = has_typhoid_fever }
			if = { limit = { trait = has_typhus } remove_trait = has_typhus }
			if = { limit = { trait = has_bubonic_plague } remove_trait = has_bubonic_plague }
			if = { limit = { trait = has_knahaten_flu } remove_trait = has_knahaten_flu }
			if = { limit = { trait = has_swamp_rot } remove_trait = has_swamp_rot }
			if = { limit = { trait = has_measles } remove_trait = has_measles }
			if = { limit = { trait = has_small_pox } remove_trait = has_small_pox }
			if = { limit = { trait = has_aztec_disease } remove_trait = has_aztec_disease }
			if = { limit = { trait = scurvy } remove_trait = scurvy }
			remove_treatment_modifiers_effect = yes
			clear_disease_level_effect = yes
			remove_disease_flags_effect = yes
			set_character_flag = seen_the_light_of_modern_medicine
		}

		if = {
			limit = {
				host = {
					NOT = { character = ROOT }
					OR = {
						AND = {
							is_married = yes
							any_spouse = { character = ROOT }
						}
						is_child_of = ROOT
						is_father = ROOT
						is_mother = ROOT
						is_lover = ROOT
						sibling = ROOT
					}
				}
			}
			host = { 
				character_event = { id = RIP.11061 }
				if = {
					limit = {
						FROMFROM = {
							NOT = {
								has_character_flag = ek_renown_physician_flag
							}
						}
					}
					random = {
						chance = 10
						character_event = { id = RIP.11065 } 
					}
				}
			}
		}

		clr_character_flag = good_treatment_outcome
		clr_character_flag = being_treated
		set_character_flag = recent_treatment
		clr_character_flag = EVTDESC_RIP_11041_1_FLAG
	}

	option = { #bad outcome
		name = EVTOPTB_RIP_11041
		trigger = {
			has_character_flag = bad_treatment_outcome
		}
		add_character_modifier = {
			name = failed_treatment_1
			duration = 365
		}

		if = {
			limit = {
				host = {
					NOT = { character = ROOT }
					OR = {
						AND = {
							is_married = yes
							any_spouse = { character = ROOT }
						}
						is_child_of = ROOT
						is_father = ROOT
						is_mother = ROOT
						is_lover = ROOT
						sibling = ROOT
					}
				}
			}
			if = {
				limit = { 
					FROMFROM = {
						ai = yes
					}
				}
				host = { character_event = { id = RIP.11060 } }
			}
		}

		clr_character_flag = bad_treatment_outcome
		clr_character_flag = being_treated
		set_character_flag = recent_treatment
		clr_character_flag = EVTDESC_RIP_11041_2_FLAG
	}
}

#ALCHEMY treatment outcome
character_event = {
	id = RIP.11042
	picture = GFX_evt_recovery
	border = GFX_event_normal_frame_religion

	desc = {
		text = EVTDESC_RIP_11042_1
		trigger = {
			has_character_flag = EVTDESC_RIP_11042_1_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11042_2
		trigger = {
			has_character_flag = EVTDESC_RIP_11042_2_FLAG
		}
	}

	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				has_character_flag = good_treatment_outcome
			}
			set_character_flag = EVTDESC_RIP_11042_1_FLAG
		}
		if = {
			limit = {
				has_character_flag = bad_treatment_outcome
			}
			set_character_flag = EVTDESC_RIP_11042_2_FLAG
		}
	} 

	option = { #ok outcome
		name = EVTOPTA_RIP_11042
		trigger = {
			has_character_flag = good_treatment_outcome
		}
		if = {
			limit = { 
				NOR = {
					trait = cancer
					trait = gout
					trait = syphilitic
				}
			}
			add_character_modifier = {
				name = successful_treatment_1
				duration = 730
			}	
		}
		if = {
			limit = { 
				OR = {
					trait = cancer
					trait = gout
					trait = syphilitic
				}
			}
			add_character_modifier = {
				name = successful_treatment_1
				duration = 1825
			}	
		}
		clr_character_flag = good_treatment_outcome
		clr_character_flag = being_treated
		set_character_flag = recent_treatment
		clr_character_flag = EVTDESC_RIP_11042_1_FLAG
	}

	option = { #nothing happens
		name = EVTOPTB_RIP_11042
		trigger = {
			has_character_flag = bad_treatment_outcome
		}
		clr_character_flag = bad_treatment_outcome
		clr_character_flag = being_treated
		clr_character_flag = EVTDESC_RIP_11042_2_FLAG
	}
}

#Symptom treatment
character_event = {
	id = RIP.11045
	picture = GFX_evt_recovery
	border = GFX_event_normal_frame_religion

	desc = {
		text = EVTDESC_RIP_11045_has_tuberculosis
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_tuberculosis_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_tuberculosis_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_tuberculosis_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_tuberculosis_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_tuberculosis_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_tuberculosis_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_tuberculosis_flag_uncertain
		}
	}

	desc = {
		text = EVTDESC_RIP_11045_has_typhoid_fever
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_typhoid_fever_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_typhoid_fever_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_typhoid_fever_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_typhoid_fever_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_typhoid_fever_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_typhoid_fever_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_typhoid_fever_flag_uncertain
		}
	}

	desc = {
		text = EVTDESC_RIP_11045_has_typhus
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_typhus_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_typhus_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_typhus_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_typhus_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_typhus_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_typhus_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_typhus_flag_uncertain
		}
	}

	desc = {
		text = EVTDESC_RIP_11045_has_knahaten_flu
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_knahaten_flu_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_knahaten_flu_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_knahaten_flu_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_knahaten_flu_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_knahaten_flu_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_knahaten_flu_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_knahaten_flu_flag_uncertain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_swamp_rot
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_swamp_rot_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_swamp_rot_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_swamp_rot_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_swamp_rot_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_swamp_rot_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_swamp_rot_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_swamp_rot_flag_uncertain
		}
	}

	desc = {
		text = EVTDESC_RIP_11045_has_measles
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_measles_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_measles_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_measles_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_measles_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_measles_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_measles_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_measles_flag_uncertain
		}
	}

	desc = {
		text = EVTDESC_RIP_11045_has_small_pox
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_small_pox_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_small_pox_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_small_pox_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_small_pox_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_small_pox_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_small_pox_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_small_pox_flag_uncertain
		}
	}

	desc = {
		text = EVTDESC_RIP_11045_has_aztec_disease
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_aztec_disease_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_aztec_disease_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_aztec_disease_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_aztec_disease_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_aztec_disease_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_has_aztec_disease_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_aztec_disease_flag_uncertain
		}
	}

	desc = {
		text = EVTDESC_RIP_11045_flu
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_flu_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_flu_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_flu_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_flu_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_flu_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_flu_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_flu_flag_uncertain
		}
	}

	desc = {
		text = EVTDESC_RIP_11045_dysentery
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_dysentery_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_dysentery_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_dysentery_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_dysentery_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_dysentery_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_dysentery_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_dysentery_flag_uncertain
		}
	}

	desc = {
		text = EVTDESC_RIP_11045_gout
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_gout_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_gout_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_gout_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_gout_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_gout_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_gout_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_gout_flag_uncertain
		}
	}

	desc = {
		text = EVTDESC_RIP_11045_food_poisoning
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_food_poisoning_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_food_poisoning_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_food_poisoning_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_food_poisoning_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_food_poisoning_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_food_poisoning_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_food_poisoning_flag_uncertain
		}
	}

	desc = {
		text = EVTDESC_RIP_11045_rabies
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_rabies_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_rabies_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_rabies_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_rabies_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_rabies_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_rabies_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_rabies_flag_uncertain
		}
	}

	desc = {
		text = EVTDESC_RIP_11045_cancer
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_cancer_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_cancer_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_cancer_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_cancer_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_cancer_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_cancer_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_cancer_flag_uncertain
		}
	}

	desc = {
		text = EVTDESC_RIP_11045_pneumonia
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_pneumonia_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_pneumonia_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_pneumonia_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_pneumonia_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_pneumonia_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_pneumonia_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_pneumonia_flag_uncertain
		}
	}

	desc = {
		text = EVTDESC_RIP_11045_syphilitic
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_syphilis_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_syphilitic_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_syphilis_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_syphilitic_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_syphilis_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_syphilitic_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_syphilis_flag_uncertain
		}
	}
	
	desc = {
		text = EVTDESC_RIP_11045_cholera
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_cholera_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_cholera_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_cholera_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_cholera_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_cholera_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_cholera_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_cholera_flag_uncertain
		}
	}
	
	desc = {
		text = EVTDESC_RIP_11045_dampworm
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_dampworm_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_dampworm_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_dampworm_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_dampworm_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_dampworm_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_dampworm_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_dampworm_flag_uncertain
		}
	}
	
	desc = {
		text = EVTDESC_RIP_11045_witches_pox
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_witches_pox_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_witches_pox_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_witches_pox_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_witches_pox_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_witches_pox_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_witches_pox_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_witches_pox_flag_uncertain
		}
	}
	
	desc = {
		text = EVTDESC_RIP_11045_greenspore
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_greenspore_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_greenspore_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_greenspore_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_greenspore_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_greenspore_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_greenspore_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_greenspore_flag_uncertain
		}
	}
	
	desc = {
		text = EVTDESC_RIP_11045_rockjoint
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_rockjoint_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_rockjoint_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_rockjoint_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_rockjoint_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_rockjoint_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_rockjoint_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_rockjoint_flag_uncertain
		}
	}
	
	desc = {
		text = EVTDESC_RIP_11045_stomach_rot
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_stomach_rot_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_stomach_rot_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_stomach_rot_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_stomach_rot_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_stomach_rot_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_stomach_rot_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_stomach_rot_flag_uncertain
		}
	}
	
	desc = {
		text = EVTDESC_RIP_11045_chrondiasis
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_chrondiasis_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_chrondiasis_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_chrondiasis_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_chrondiasis_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_chrondiasis_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_chrondiasis_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_has_chrondiasis_flag_uncertain
		}
	}

	desc = {
		text = EVTDESC_RIP_11045_not_serious
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_not_serious_flag
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_not_serious_certain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_not_serious_flag_certain
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_not_serious_sure
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_not_serious_flag_sure
		}
	}
	desc = {
		text = EVTDESC_RIP_11045_not_serious_uncertain
		trigger = {
			has_character_flag = EVTDESC_RIP_11045_not_serious_flag_uncertain
		}
	}

	is_triggered_only = yes
	
	trigger = {
		OR = {
			##Symptoms
			trait = cough
			trait = fever
			trait = diarrhea
			trait = vomiting
			trait = chest_pain
			trait = cramps
			trait = rash
			trait = headache
			trait = abdominal_pain
			trait = fatigue
			trait = malaise
		}
	}

	immediate = {
		random_list = {
			40 = {
				modifier = {
					factor = 2
					num_of_symptoms = 2
				}
				modifier = {
					factor = 2
					num_of_symptoms = 3
				}
				modifier = {
					factor = 1.2
					FROM = {
						is_smart_trigger = yes
					}
				}
				modifier = {
					factor = 1.2
					FROM = {
						physician_good_trigger = yes
					}
				}
				modifier = {
					factor = 1.2
					FROM = {
						learning = 25
					}
				}
				modifier = {
					factor = 1.2
					FROM = {
						learning = 20
					}
				}
				modifier = {
					factor = 1.2
					FROM = {
						learning = 15
					}
				}
				modifier = {
					factor = 0.8
					FROM = {
						NOT = { learning = 15 }
					}
				}
				modifier = {
					factor = 0.8
					FROM = {
						NOT = { learning = 10 }
					}
				}
				set_character_flag = correct_diagnosis
			}
			60 = {
				modifier = {
					factor = 1.2
					FROM = {
						is_dumb_trigger = yes
					}
				}
				modifier = {
					factor = 1.2
					FROM = {
						physician_bad_trigger = yes
					}
				}
				modifier = {
					factor = 1.2
					FROM = {
						NOT = { opinion = { who = ROOT value = 0 } }
					}
				}
				modifier = {
					factor = 1.2
					FROM = {
						NOT = { opinion = { who = ROOT value = -25 } }
					}
				}
				modifier = {
					factor = 1.2
					FROM = {
						NOT = { opinion = { who = ROOT value = -50 } }
					}
				}
				modifier = {
					factor = 1.2
					FROM = {
						NOT = { opinion = { who = ROOT value = -75 } }
					}
				}
				modifier = {
					factor = 0.8
					FROM = {
						learning = 25
					}
				}
				modifier = {
					factor = 0.8
					FROM = {
						learning = 20
					}
				}
				modifier = {
					factor = 0.8
					FROM = {
						learning = 15
					}
				}
				modifier = {
					factor = 1.2
					FROM = {
						NOT = { learning = 15 }
					}
				}
				modifier = {
					factor = 1.2
					FROM = {
						NOT = { learning = 10 }
					}
				}
				set_character_flag = faulty_diagnosis
			}
		}

		#Now we check to see what disease the character has
		random_list = {
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_tuberculosis }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_tuberculosis
					}
				}
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_tuberculosis_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_tuberculosis_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_tuberculosis_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_tuberculosis_flag #otherwise, doctors are fairly sure
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_typhoid_fever }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_typhoid_fever
					}
				}
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_typhoid_fever_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_typhoid_fever_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_typhoid_fever_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_typhoid_fever_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_typhus }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_typhus
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_typhus_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_typhus_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_typhus_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_typhus_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_knahaten_flu }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_knahaten_flu
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_knahaten_flu_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_knahaten_flu_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_knahaten_flu_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_knahaten_flu_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_swamp_rot }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_swamp_rot
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_swamp_rot_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_swamp_rot_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_swamp_rot_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_swamp_rot_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_measles }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_measles
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_measles_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_measles_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_measles_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_measles_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_smallpox }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_smallpox
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_small_pox_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_small_pox_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_small_pox_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_small_pox_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_aztec_disease }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_aztec_disease
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_aztec_disease_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_aztec_disease_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_aztec_disease_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_aztec_disease_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_flu }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_flu
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_flu_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_flu_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_flu_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_flu_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_dysentery }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_dysentery
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_dysentery_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_dysentery_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_dysentery_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_dysentery_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_gout }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_gout
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_gout_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_gout_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_gout_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_gout_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_food_poisoning }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_food_poisoning
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_food_poisoning_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_food_poisoning_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_food_poisoning_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_food_poisoning_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_rabies }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_rabies
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_rabies_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_rabies_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_rabies_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_rabies_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_cancer }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_cancer
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_cancer_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_cancer_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_cancer_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_cancer_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_pneumonia }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_pneumonia
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_pneumonia_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_pneumonia_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_pneumonia_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_pneumonia_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_syphilis }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_syphilis
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_syphilis_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_syphilis_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_syphilis_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_syphilis_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_cholera }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_cholera
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_cholera_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_cholera_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_cholera_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_cholera_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_dampworm }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_dampworm
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_dampworm_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_dampworm_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_dampworm_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_dampworm_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_witches_pox }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_witches_pox
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_witches_pox_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_witches_pox_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_witches_pox_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_witches_pox_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_greenspore }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_greenspore
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_greenspore_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_greenspore_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_greenspore_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_greenspore_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_rockjoint }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_rockjoint
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_rockjoint_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_rockjoint_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_rockjoint_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_rockjoint_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_stomach_rot }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_stomach_rot
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_stomach_rot_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_stomach_rot_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_stomach_rot_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_stomach_rot_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = got_chrondiasis }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = got_chrondiasis
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_chrondiasis_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_chrondiasis_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_has_chrondiasis_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_has_chrondiasis_flag
			}
			10 = {
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = correct_diagnosis
						NOT = { has_character_flag = disease_not_serious }
					}
				}
				modifier = {
					factor  = 0
					AND = {
						has_character_flag = faulty_diagnosis
						has_character_flag = disease_not_serious
					}
				}
				
				if = {
					limit = {
						has_character_flag = correct_diagnosis #Really good doctors know for sure
						FROM = {
							OR = {
								learning = 25
								AND = {
									physician_good_trigger = yes
									learning = 20
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_not_serious_flag_certain
					break = yes
				}
				if = {	#Good doctors are pretty sure
					limit = {
						FROM = {
							OR = {
								learning = 20
								AND = {
									physician_good_trigger = yes
									learning = 15
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_not_serious_flag_sure
					break = yes
				}
				if = {
					limit = { # awful doctors are uncertain 
						FROM = {
							OR = {
								AND = {
									NOT = { learning = 10 }	
									physician_bad_trigger = no
								}
								AND = {
									NOT = { learning = 15 }	
									physician_bad_trigger = yes
								}
							}
						}	
					}
					set_character_flag = EVTDESC_RIP_11045_not_serious_flag_uncertain
					break = yes
				}
				
				set_character_flag = EVTDESC_RIP_11045_not_serious_flag
			}
		}
	}


	option = {
		name = EVTOPTA_RIP_11045
		custom_tooltip = {
			text = EVTOPTA_RIP_11045_TOOLTIP #symptom treatment notification
		}
		hidden_tooltip = {
			random_list = {
				50 = {
					modifier = {
						factor = 1.2
						is_strong_trigger = yes
					}
					modifier = {
						factor = 1.2
						FROM = {
							is_healer = yes
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							learning = 25
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							learning = 20
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							learning = 15
						}
					}
					modifier = {
						factor = 0.8
						FROM = {
							NOT = { learning = 15 }
						}
					}
					modifier = {
						factor = 0.8
						FROM = {
							NOT = { learning = 10 }
						}
					}
					modifier = {
						factor = 0.8
						is_weak_trigger = yes
					}
					modifier = {
						factor = 1.5
						has_character_flag = correct_diagnosis
					}
					set_character_flag = good_treatment_outcome
				}
				50 = {
					modifier = {
						factor = 0.8
						is_strong_trigger = yes
					}
					modifier = {
						factor = 0.8
						FROM = {
							learning = 25
						}
					}
					modifier = {
						factor = 0.8
						FROM = {
							learning = 20
						}
					}
					modifier = {
						factor = 0.8
						FROM = {
							learning = 15
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							NOT = { learning = 15 }
						}
					}
					modifier = {
						factor = 1.2
						FROM = {
							NOT = { learning = 10 }
						}
					}
					modifier = {
						factor = 1.2
						is_weak_trigger = yes
					}
					modifier = {
						factor = 1.5
						has_character_flag = faulty_diagnosis
					}
					set_character_flag = bad_treatment_outcome
				}
			}
			
			if = {	#If good treatment, check for quality
				limit = {
					has_character_flag = good_treatment_outcome
				}
				random_list = {
					100 = {
						modifier = {
							factor = 1.5
							FROM = {
								learning = 25
							}
						}
						modifier = {
							factor = 1.2
							FROM = {
								learning = 20
							}
						}
						modifier = {
							factor = 1.2
							FROM = {
								learning = 15
							}
						}
						modifier = {
							factor = 0.8
							FROM = {
								NOT = { learning = 15 }
							}
						}
						modifier = {
							factor = 0.8
							FROM = {
								NOT = { learning = 10 }
							}
						}
						set_character_flag = best_symptom_treatment
					}
					100 = {
						modifier = {
							factor = 1.2
							FROM = {
								learning = 25
							}
						}
						modifier = {
							factor = 1.2
							FROM = {
								learning = 20
							}
						}
						modifier = {
							factor = 1.2
							FROM = {
								learning = 15
							}
						}
						modifier = {
							factor = 0.8
							FROM = {
								NOT = { learning = 15 }
							}
						}
						modifier = {
							factor = 0.8
							FROM = {
								NOT = { learning = 10 }
							}
						}
						set_character_flag = good_symptom_treatment
					}
					100 = {
						set_character_flag = ok_symptom_treatment
					}
					100 = {
						modifier = {
							factor = 0.8
							FROM = {
								learning = 25
							}
						}
						modifier = {
							factor = 0.8
							FROM = {
								learning = 20
							}
						}
						modifier = {
							factor = 0.8
							FROM = {
								learning = 15
							}
						}
						modifier = {
							factor = 1.5
							FROM = {
								NOT = { learning = 15 }
							}
						}
						modifier = {
							factor = 1.5
							FROM = {
								NOT = { learning = 10 }
							}
						}
						set_character_flag = poor_symptom_treatment
					}
				}
			}
			
			character_event = { id = RIP.11046 days = 3 }
			#Clear all flags
			clr_character_flag = faulty_diagnosis
			clr_character_flag = correct_diagnosis
			clr_character_flag = EVTDESC_RIP_11045_has_tuberculosis_flag
			clr_character_flag = EVTDESC_RIP_11045_has_tuberculosis_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_tuberculosis_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_tuberculosis_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_typhoid_fever_flag
			clr_character_flag = EVTDESC_RIP_11045_has_typhoid_fever_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_typhoid_fever_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_typhoid_fever_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_typhus_flag
			clr_character_flag = EVTDESC_RIP_11045_has_typhus_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_typhus_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_typhus_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_knahaten_flu_flag
			clr_character_flag = EVTDESC_RIP_11045_has_knahaten_flu_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_knahaten_flu_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_knahaten_flu_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_swamp_rot_flag
			clr_character_flag = EVTDESC_RIP_11045_has_swamp_rot_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_swamp_rot_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_swamp_rot_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_measles_flag
			clr_character_flag = EVTDESC_RIP_11045_has_measles_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_measles_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_measles_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_small_pox_flag
			clr_character_flag = EVTDESC_RIP_11045_has_small_pox_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_small_pox_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_small_pox_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_aztec_disease_flag
			clr_character_flag = EVTDESC_RIP_11045_has_aztec_disease_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_aztec_disease_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_aztec_disease_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_flu_flag
			clr_character_flag = EVTDESC_RIP_11045_has_flu_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_flu_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_flu_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_dysentery_flag
			clr_character_flag = EVTDESC_RIP_11045_has_dysentery_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_dysentery_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_dysentery_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_gout_flag
			clr_character_flag = EVTDESC_RIP_11045_has_gout_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_gout_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_gout_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_food_poisoning_flag
			clr_character_flag = EVTDESC_RIP_11045_has_food_poisoning_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_food_poisoning_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_food_poisoning_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_rabies_flag
			clr_character_flag = EVTDESC_RIP_11045_has_rabies_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_rabies_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_rabies_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_cancer_flag
			clr_character_flag = EVTDESC_RIP_11045_has_cancer_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_cancer_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_cancer_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_pneumonia_flag
			clr_character_flag = EVTDESC_RIP_11045_has_pneumonia_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_pneumonia_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_pneumonia_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_syphilis_flag
			clr_character_flag = EVTDESC_RIP_11045_has_syphilis_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_syphilis_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_syphilis_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_cholera_flag
			clr_character_flag = EVTDESC_RIP_11045_has_cholera_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_cholera_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_cholera_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_dampworm_flag
			clr_character_flag = EVTDESC_RIP_11045_has_dampworm_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_dampworm_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_dampworm_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_witches_pox_flag
			clr_character_flag = EVTDESC_RIP_11045_has_witches_pox_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_witches_pox_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_witches_pox_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_greenspore_flag
			clr_character_flag = EVTDESC_RIP_11045_has_greenspore_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_greenspore_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_greenspore_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_rockjoint_flag
			clr_character_flag = EVTDESC_RIP_11045_has_rockjoint_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_rockjoint_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_rockjoint_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_stomach_rot_flag
			clr_character_flag = EVTDESC_RIP_11045_has_stomach_rot_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_stomach_rot_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_stomach_rot_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_has_chrondiasis_flag
			clr_character_flag = EVTDESC_RIP_11045_has_chrondiasis_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_has_chrondiasis_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_has_chrondiasis_flag_uncertain
			clr_character_flag = EVTDESC_RIP_11045_not_serious_flag
			clr_character_flag = EVTDESC_RIP_11045_not_serious_flag_certain
			clr_character_flag = EVTDESC_RIP_11045_not_serious_flag_sure
			clr_character_flag = EVTDESC_RIP_11045_not_serious_flag_uncertain
		}
	}
}

#Symptom treatment outcome
character_event = {
	id = RIP.11046
	picture = GFX_evt_recovery
	border = GFX_event_normal_frame_religion

	desc = {
		text = EVTDESC_RIP_11046_COUGH_1
		picture = GFX_evt_recovery
		trigger = {
			has_character_flag = EVTDESC_RIP_11046_COUGH_1_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11046_FEVER_1
		picture = GFX_evt_recovery
		trigger = {
			has_character_flag = EVTDESC_RIP_11046_FEVER_1_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11046_DIARRHEA_1
		picture = GFX_evt_recovery
		trigger = {
			has_character_flag = EVTDESC_RIP_11046_DIARRHEA_1_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11046_VOMITING_1
		picture = GFX_evt_recovery
		trigger = {
			has_character_flag = EVTDESC_RIP_11046_VOMITING_1_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11046_HEADACHE_1
		picture = GFX_evt_recovery
		trigger = {
			has_character_flag = EVTDESC_RIP_11046_HEADACHE_1_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11046_CHESTPAIN_1
		picture = GFX_evt_recovery
		trigger = {
			has_character_flag = EVTDESC_RIP_11046_CHESTPAIN_1_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11046_CRAMPS_1
		picture = GFX_evt_recovery
		trigger = {
			has_character_flag = EVTDESC_RIP_11046_CRAMPS_1_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11046_RASH_1
		picture = GFX_evt_recovery
		trigger = {
			has_character_flag = EVTDESC_RIP_11046_RASH_1_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11046_ABDOMINALPAIN_1
		picture = GFX_evt_recovery
		trigger = {
			has_character_flag = EVTDESC_RIP_11046_ABDOMINALPAIN_1_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11046_MALAISE_1
		picture = GFX_evt_recovery
		trigger = {
			has_character_flag = EVTDESC_RIP_11046_MALAISE_1_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11046_FATIGUE_1
		picture = GFX_evt_recovery
		trigger = {
			has_character_flag = EVTDESC_RIP_11046_FATIGUE_1_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11046_GENERAL_1
		picture = GFX_evt_recovery
		trigger = {
			has_character_flag = EVTDESC_RIP_11046_GENERAL_1_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11046_GENERAL_2
		picture = GFX_evt_recovery
		trigger = {
			has_character_flag = EVTDESC_RIP_11046_GENERAL_2_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11046_GENERAL_3
		picture = GFX_evt_recovery
		trigger = {
			has_character_flag = EVTDESC_RIP_11046_GENERAL_3_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11046_GENERAL_4
		picture = GFX_evt_recovery
		trigger = {
			has_character_flag = EVTDESC_RIP_11046_GENERAL_4_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11046_GENERAL_5
		picture = GFX_evt_recovery
		trigger = {
			has_character_flag = EVTDESC_RIP_11046_GENERAL_5_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11046_GENERAL_6
		picture = GFX_evt_recovery
		trigger = {
			has_character_flag = EVTDESC_RIP_11046_GENERAL_6_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11046_GENERAL_7
		picture = GFX_evt_recovery
		trigger = {
			has_character_flag = EVTDESC_RIP_11046_GENERAL_7_FLAG
		}
	}
	desc = {
		text = EVTDESC_RIP_11046_GENERAL_8
		picture = GFX_evt_recovery
		trigger = {
			has_character_flag = EVTDESC_RIP_11046_GENERAL_8_FLAG
		}
	}

	is_triggered_only = yes

	immediate = {

		random_list = {
			20 = {
				modifier = {
					factor = 0 
					NOT = { trait = cough }
				}
				set_character_flag = EVTDESC_RIP_11046_COUGH_1_FLAG
			}
			20 = {
				modifier = {
					factor = 0 
					NOT = { trait = fever }
				}
				set_character_flag = EVTDESC_RIP_11046_FEVER_1_FLAG
			}
			20 = {
				modifier = {
					factor = 0 
					NOT = { trait = diarrhea }
				}
				set_character_flag = EVTDESC_RIP_11046_DIARRHEA_1_FLAG
			}
			20 = {
				modifier = {
					factor = 0 
					NOT = { trait = vomiting }
				}
				set_character_flag = EVTDESC_RIP_11046_VOMITING_1_FLAG
			}
			20 = {
				modifier = {
					factor = 0 
					NOT = { trait = headache }
				}
				set_character_flag = EVTDESC_RIP_11046_HEADACHE_1_FLAG
			}
			20 = {
				modifier = {
					factor = 0 
					NOT = { trait = chest_pain }
				}
				set_character_flag = EVTDESC_RIP_11046_CHESTPAIN_1_FLAG
			}
			20 = {
				modifier = {
					factor = 0 
					NOT = { trait = cramps }
				}
				set_character_flag = EVTDESC_RIP_11046_CRAMPS_1_FLAG
			}
			20 = {
				modifier = {
					factor = 0 
					NOT = { trait = rash }
				}
				set_character_flag = EVTDESC_RIP_11046_RASH_1_FLAG
			}		
			20 = {
				modifier = {
					factor = 0 
					NOT = { trait = abdominal_pain }
				}
				set_character_flag = EVTDESC_RIP_11046_ABDOMINALPAIN_1_FLAG
			}
			20 = {
				modifier = {
					factor = 0 
					NOT = { trait = malaise }
				}
				set_character_flag = EVTDESC_RIP_11046_MALAISE_1_FLAG
			}
			20 = {
				modifier = {
					factor = 0 
					NOT = { trait = fatigue }
				}
				set_character_flag = EVTDESC_RIP_11046_FATIGUE_1_FLAG
			}
			5 = { set_character_flag = EVTDESC_RIP_11046_GENERAL_1_FLAG }
			5 = { set_character_flag = EVTDESC_RIP_11046_GENERAL_2_FLAG }
			5 = { set_character_flag = EVTDESC_RIP_11046_GENERAL_3_FLAG }
			5 = { set_character_flag = EVTDESC_RIP_11046_GENERAL_4_FLAG }
			5 = { set_character_flag = EVTDESC_RIP_11046_GENERAL_5_FLAG }
			5 = { set_character_flag = EVTDESC_RIP_11046_GENERAL_6_FLAG }
			5 = { set_character_flag = EVTDESC_RIP_11046_GENERAL_7_FLAG }
			5 = { set_character_flag = EVTDESC_RIP_11046_GENERAL_8_FLAG }
		}
	}

	option = { # Ok outcome
		name = EVTOPTA_RIP_11046
		trigger = {
			has_character_flag = good_treatment_outcome
		}
		if = {
			limit = {
				has_character_flag = best_symptom_treatment
				NOR = {
					trait = cancer
					trait = gout
					trait = syphilitic
				}
			}
			add_character_modifier = {
				name = symptom_treatment_4
				duration = 730
			}
		}
		if = {
			limit = {
				has_character_flag = best_symptom_treatment
				OR = {
					trait = cancer
					trait = gout
					trait = syphilitic
				}
			}
			add_character_modifier = {
				name = symptom_treatment_4
				duration = 1825
			}
		}
		if = {
			limit = {
				has_character_flag = good_symptom_treatment
				NOR = {
					trait = cancer
					trait = gout
					trait = syphilitic
				}
			}
			add_character_modifier = {
				name = symptom_treatment_3
				duration = 730
			}
		}
		if = {
			limit = {
				has_character_flag = good_symptom_treatment
				OR = {
					trait = cancer
					trait = gout
					trait = syphilitic
				}
			}
			add_character_modifier = {
				name = symptom_treatment_3
				duration = 1825
			}
		}
		if = {
			limit = {
				has_character_flag = ok_symptom_treatment
				NOR = {
					trait = cancer
					trait = gout
					trait = syphilitic
				}
			}
			add_character_modifier = {
				name = symptom_treatment_2
				duration = 730
			}
		}
		if = {
			limit = {
				has_character_flag = ok_symptom_treatment
				OR = {
					trait = cancer
					trait = gout
					trait = syphilitic
				}
			}
			add_character_modifier = {
				name = symptom_treatment_2
				duration = 1825
			}
		}
		if = {
			limit = {
				has_character_flag = poor_symptom_treatment
				NOR = {
					trait = cancer
					trait = gout
					trait = syphilitic
				}
			}
			add_character_modifier = {
				name = symptom_treatment_1
				duration = 730
			}
		}
		if = {
			limit = {
				has_character_flag = poor_symptom_treatment
				OR = {
					trait = cancer
					trait = gout
					trait = syphilitic
				}
			}
			add_character_modifier = {
				name = symptom_treatment_1
				duration = 1825
			}
		}
		set_character_flag = recent_treatment
		clr_character_flag = best_symptom_treatment
		clr_character_flag = good_symptom_treatment
		clr_character_flag = ok_symptom_treatment
		clr_character_flag = poor_symptom_treatment
		clr_character_flag = good_treatment_outcome
		clr_character_flag = being_treated
		clr_character_flag = EVTDESC_RIP_11046_COUGH_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_FEVER_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_DIARRHEA_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_VOMITING_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_HEADACHE_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_CHESTPAIN_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_CRAMPS_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_RASH_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_ABDOMINALPAIN_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_MALAISE_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_FATIGUE_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_GENERAL_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_GENERAL_2_FLAG
		clr_character_flag = EVTDESC_RIP_11046_GENERAL_3_FLAG
		clr_character_flag = EVTDESC_RIP_11046_GENERAL_4_FLAG
		clr_character_flag = EVTDESC_RIP_11046_GENERAL_5_FLAG
		clr_character_flag = EVTDESC_RIP_11046_GENERAL_6_FLAG
		clr_character_flag = EVTDESC_RIP_11046_GENERAL_7_FLAG
		clr_character_flag = EVTDESC_RIP_11046_GENERAL_8_FLAG
	}

	option = { #nothing happens
		name = EVTOPTB_RIP_11046
		trigger = {
			has_character_flag = bad_treatment_outcome
		}
		set_character_flag = recent_treatment
		clr_character_flag = bad_treatment_outcome
		clr_character_flag = being_treated
		clr_character_flag = EVTDESC_RIP_11046_COUGH_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_FEVER_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_DIARRHEA_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_VOMITING_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_HEADACHE_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_CHESTPAIN_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_CRAMPS_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_RASH_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_ABDOMINALPAIN_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_MALAISE_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_FATIGUE_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_GENERAL_1_FLAG
		clr_character_flag = EVTDESC_RIP_11046_GENERAL_2_FLAG
		clr_character_flag = EVTDESC_RIP_11046_GENERAL_3_FLAG
		clr_character_flag = EVTDESC_RIP_11046_GENERAL_4_FLAG
		clr_character_flag = EVTDESC_RIP_11046_GENERAL_5_FLAG
		clr_character_flag = EVTDESC_RIP_11046_GENERAL_6_FLAG
		clr_character_flag = EVTDESC_RIP_11046_GENERAL_7_FLAG
		clr_character_flag = EVTDESC_RIP_11046_GENERAL_8_FLAG
	}
}

#Physician hurt your close of kin
character_event = {
	id = RIP.11060
	picture = GFX_evt_bloody_tools
	desc = EVTDESC_RIP_11060
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	trigger = {
		OR = {
			ai = yes
			AND = {
				multiplayer = no
				war = no
				random = 75 # 25% chance
			}
		}
		NOT = {
			has_character_modifier = relative_treatment_reaction_timer 
		}
		FROMFROMFROM = {
			NOT = {
				character = ROOT_FROM
			}
		}
	}

	immediate = { 
		add_character_modifier = {
			modifier = relative_treatment_reaction_timer
			days = 30
			hidden = yes
		}
	}
	
	# throw them in prison
	option = {
		trigger = {
			NOT = {
				trait = wroth
			}
		}
		ai_chance = {
			factor = 5
		}
		name = EVTOPTD_RIP_11060
		FROMFROMFROM = {
			imprison = yes
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = opinion_grateful
				years = 10
			}
		}
	}

	# have their head
	option = {
		tooltip_info = wroth
		trigger = {
			trait = wroth
		}
		ai_chance = {
			factor = 5
		}
		name = EVTOPTA_RIP_11060
		FROMFROMFROM = {
			death = {
				death_reason = death_execution_beheading
				killer = ROOT
			}
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = opinion_grateful
				years = 10
			}
		}
	}

	# formal complaint
	option = {
		ai_chance = {
			factor = 60
		}
		name = EVTOPTB_RIP_11060
		FROMFROMFROM = {
			opinion = {
				who = ROOT
				modifier = opinion_did_not_trust_me
				years = 5
			}
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = opinion_grateful
				years = 5
			}
		}
	}

	# do nothing
	option = {
		ai_chance = {
			factor = 35
		}
		name = EVTOPTC_RIP_11060
		FROM = {
			opinion = {
				who = ROOT
				modifier = insulted
				years = 5
			}
			random = {
				chance = 10
				add_rival = ROOT
			}
		}
	}
}

#Physician cured your close kin
character_event = {
	id = RIP.11061
	picture = GFX_evt_recovery
	desc = EVTDESC_RIP_11061
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	trigger = {
		OR = {
			ai = yes
			AND = {
				multiplayer = no
				war = no
				random = 75 # 25% chance
			}
		}
		NOT = { has_character_modifier = relative_treatment_reaction_timer }
	}

	immediate = {
		add_character_modifier = { 
			modifier = relative_treatment_reaction_timer 
			days = 30
			hidden = yes
		}
	}
	
	#Praise them to the court
	option = {
		tooltip_info = gregarious
		trigger = {
			trait = gregarious
		}
		ai_chance = {
			factor = 100
		}
		name = EVTOPTC_RIP_11061
		
		reverse_opinion = {
			who = FROMFROMFROM
			modifier = opinion_was_praised
			years = 5
		}
		
		random = {
			chance = 20
			add_friend = FROMFROMFROM
		}
		
		any_courtier = {
			limit = {
				age = 16
				prisoner = no
				NOT = {
					character = ROOT
				}
				NOT = {
					trait = incapable
				}
			}
			opinion = {
				who = FROMFROMFROM
				modifier = opinion_good_work
				years = 5
			}
		}
	}

	#Commend them
	option = {
		ai_chance = {
			factor = 20
		}
		name = EVTOPTA_RIP_11061
		reverse_opinion = {
			who = FROMFROMFROM
			modifier = opinion_was_praised
			years = 5
		}
		opinion = {
			who = FROMFROMFROM
			modifier = opinion_good_work
			years = 5
		}
		transfer_scaled_wealth = {
			to = FROMFROMFROM
			value = 0.02
		}
	}

	#It's their job
	option = {
		ai_chance = {
			factor = 80
			modifier = {
				factor = 0
				trait = gregarious
			}
		}
		prestige = 10
		name = EVTOPTB_RIP_11061
	}
}

#Physician tells you you have leprosy
#character_event = {
#	id = RIP.11062
#	picture = GFX_evt_court_physician 
#	desc = RIP.11062.d
#	border = GFX_event_normal_frame_religion
#
#	is_triggered_only = yes
#
#	option = {
#		name = ALAS
#		clr_character_flag = new_leper_character
#	}
#}
#
#Leprosy cleanup
character_event = {
	id = RIP.11063
	
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		has_character_flag = new_leper_character
	}

	option = {
		name = ALAS
		clr_character_flag = new_leper_character
		clr_character_flag = being_treated
	}
}

#babies born in seclusion gain seclusion
character_event = {
	id = RIP.11064
	
	hide_window = yes

	is_triggered_only = yes
	
	trigger = {
		host = {
			has_character_modifier = in_seclusion
		}
	}

	option = {
		name = OK
		add_character_modifier = {
			name = in_seclusion
			duration = -1
		}
	}
}

# Court Physician becomes renowned
character_event = {
	id = RIP.11065
	picture = GFX_evt_court_physician 
	desc = RIP.110625.d
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	portrait = physician_portrait
	
	immediate = {
		FROMFROMFROM = { 
			save_event_target_as = physician_portrait
			prestige = 25
		}
	}

	option = {
		name = EXCELLENT
		FROMFROMFROM = { 
			save_event_target_as = physician_portrait
			change_learning = 1
			set_character_flag = ek_renown_physician_flag
		}		
	}
}

#Court physician ping event for sickly child
character_event = {
	id = RIP.11066
	hide_window = yes

	is_triggered_only = yes

	option = { event_target:infant_guardian = { character_event = { id = RIP.11067 } } }
}

character_event = {
	id = RIP.11067
	picture = GFX_evt_birth
	desc = EVTDSC_RIP_11067
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	trigger = {
		event_target:sickly_infant = { 
			is_alive = yes 
		}
	}

	#Treat them!
	option = {
		name = EVTOPTA_RIP_11067
		custom_tooltip = { text = EVTOPTA_RIP_11067_TOOLTIP }

		hidden_tooltip = { FROM = { character_event = { id = RIP.11068 days = 20 } } }
		event_target:sickly_infant = {
			show_portrait = yes
		}

		ai_chance = {
			factor = 10

			modifier = {
				factor = 5
				trait = kind
			}
			modifier = {
				factor = 10
				current_heir = { character = event_target:sickly_infant }
			}
		}
	}

	#Don't do anything
	option = {
		name = EVTOPTB_RIP_11067
		custom_tooltip = { text = EVTOPTB_RIP_11067_TOOLTIP } 
		
		hidden_tooltip = {
			random = {
				chance = 20
				modifier = {
					factor = 4
					event_target:sickly_infant = { is_unimportant_trigger = yes }
				}

				event_target:sickly_infant = { character_event = { id = RIP.11072 days = 30 random = 100 } } #Child dies
			}
		}

		ai_chance = {
			factor = 1

			modifier = {
				factor = 50
				event_target:sickly_infant = { is_unimportant_trigger = yes }
			}
			modifier = {
				factor = 20
				OR = {
					trait = cruel
					trait = arbitrary
				}
			}
			modifier = {
				factor = 20
				OR = {
					liege = { is_tribal = yes }
					liege = { is_nomadic = yes }
				}
			}
		}
	}
}

#Court physician ping event for outcome of treatment for sickly child
character_event = {
	id = RIP.11068
	hide_window = yes

	is_triggered_only = yes

	trigger = { event_target:sickly_infant = { trait = sickly } }

	option = { 
		random_list = {
			#Perfect treatment
			20 = {
				modifier = {
					factor = 1.5
					is_smart_trigger = yes
				}
				modifier = {
					factor = 1.5
					physician_good_trigger = yes
				}
				modifier = {
					factor = 0
						NOT = {
							learning = 1
						}
					}
				modifier = {
					factor = 0.1
					learning = 1
					NOT = {
						learning = 2
					}
				}
				modifier = {
					factor = 0.2
					learning = 2
					NOT = {
						learning = 3
					}
				}
				modifier = {
					factor = 0.3
					learning = 3
					NOT = {
						learning = 4
					}
				}
				modifier = {
					factor = 0.4
					learning = 4
					NOT = {
						learning = 5
					}
				}
				modifier = {
					factor = 0.5
					learning = 5
					NOT = {
						learning = 6
					}
				}
				modifier = {
					factor = 0.6
					learning = 6
					NOT = {
						learning = 7
					}
				}
				modifier = {
					factor = 0.7
					learning = 7
					NOT = {
						learning = 8
					}
				}
				modifier = {
					factor = 0.8
					learning = 8
					NOT = {
						learning = 9
					}
				}
				modifier = {
					factor = 0.9
					learning = 9
					NOT = {
						learning = 10
					}
				}
				modifier = {
					factor = 1.1
					learning = 11
				}
				modifier = {
					factor = 1.1
					learning = 12
				}
				modifier = {
					factor = 1.1
					learning = 13
				}
				modifier = {
					factor = 1.1
					learning = 14
				}
				modifier = {
					factor = 1.1
					learning = 15
				}
				modifier = {
					factor = 1.1
					learning = 16
				}
				modifier = {
					factor = 1.1
					learning = 17
				}
				modifier = {
					factor = 1.1
					learning = 18
				}
				modifier = {
					factor = 1.1
					learning = 19
				}
				modifier = {
					factor = 1.1
					learning = 20
				}
				modifier = {
					factor = 1.1
					learning = 21
				}
				modifier = {
					factor = 1.1
					learning = 22
				}
				modifier = {
					factor = 1.1
					learning = 23
				}
				modifier = {
					factor = 1.1
					learning = 24
				}
				modifier = {
					factor = 1.1
					learning = 25
				}
				modifier = {
					factor = 1.1
					learning = 26
				}
				modifier = {
					factor = 1.1
					learning = 27
				}
				modifier = {
					factor = 1.1
					learning = 28
				}
				modifier = {
					factor = 1.1
					learning = 29
				}
				modifier = {
					factor = 1.1
					learning = 30
				}
				FROM = { character_event = { id = RIP.11069 } }
			}
			#A bit of a treatment
			40 = {
				modifier = {
					factor = 0
						NOT = {
							learning = 1
						}
					}
				modifier = {
					factor = 0.1
					learning = 1
					NOT = {
						learning = 2
					}
				}
				modifier = {
					factor = 0.2
					learning = 2
					NOT = {
						learning = 3
					}
				}
				modifier = {
					factor = 0.3
					learning = 3
					NOT = {
						learning = 4
					}
				}
				modifier = {
					factor = 0.4
					learning = 4
					NOT = {
						learning = 5
					}
				}
				modifier = {
					factor = 0.5
					learning = 5
					NOT = {
						learning = 6
					}
				}
				modifier = {
					factor = 0.6
					learning = 6
					NOT = {
						learning = 7
					}
				}
				modifier = {
					factor = 0.7
					learning = 7
					NOT = {
						learning = 8
					}
				}
				modifier = {
					factor = 0.8
					learning = 8
					NOT = {
						learning = 9
					}
				}
				modifier = {
					factor = 0.9
					learning = 9
					NOT = {
						learning = 10
					}
				}
				modifier = {
					factor = 1.1
					learning = 11
				}
				modifier = {
					factor = 1.1
					learning = 12
				}
				modifier = {
					factor = 1.1
					learning = 13
				}
				modifier = {
					factor = 1.1
					learning = 14
				}
				modifier = {
					factor = 1.1
					learning = 15
				}
				modifier = {
					factor = 1.1
					learning = 16
				}
				modifier = {
					factor = 1.1
					learning = 17
				}
				modifier = {
					factor = 1.1
					learning = 18
				}
				modifier = {
					factor = 1.1
					learning = 19
				}
				modifier = {
					factor = 1.1
					learning = 20
				}
				modifier = {
					factor = 1.1
					learning = 21
				}
				modifier = {
					factor = 1.1
					learning = 22
				}
				modifier = {
					factor = 1.1
					learning = 23
				}
				modifier = {
					factor = 1.1
					learning = 24
				}
				modifier = {
					factor = 1.1
					learning = 25
				}
				modifier = {
					factor = 1.1
					learning = 26
				}
				modifier = {
					factor = 1.1
					learning = 27
				}
				modifier = {
					factor = 1.1
					learning = 28
				}
				modifier = {
					factor = 1.1
					learning = 29
				}
				modifier = {
					factor = 1.1
					learning = 30
				}
				FROM = { character_event = { id = RIP.11070 } }
			}
			#Bad treatment
			40 = {
				modifier = {
					factor = 1.5
					is_dumb_trigger = yes
				}
				modifier = {
					factor = 1.5
					physician_bad_trigger = yes
				}
				modifier = {
					factor = 0.8
					learning = 25
				}
				modifier = {
					factor = 0.8
					learning = 20
				}
				modifier = {
					factor = 0.8
					learning = 15
				}
				modifier = {
					factor = 1.2
					NOT = { learning = 15 }
				}
				modifier = {
					factor = 1.2
					NOT = { learning = 10 }
				}
				FROM = { character_event = { id = RIP.11071 } }
			}
		}
	}
}

#Sickly is removed
character_event = {
	id = RIP.11069
	picture = GFX_evt_birth
	desc = EVTDSC_RIP_11069
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_RIP_11069

		event_target:sickly_infant = { remove_trait = sickly }
	}
}

#Nice little treatment
character_event = {
	id = RIP.11070
	picture = GFX_evt_birth
	desc = EVTDSC_RIP_11070
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_RIP_11070

		event_target:sickly_infant = { 
			add_character_modifier = {
				name = successful_treatment
				years = 3
			}
		}
	}
}

#Nothing happens
character_event = {
	id = RIP.11071
	picture = GFX_evt_birth
	desc = EVTDSC_RIP_11071
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_RIP_11071
		custom_tooltip = { text = EVTOPTA_RIP_11071_TOOLTIP }
	}
}

#Child dies ping event
character_event = {
	id = RIP.11072
	hide_window = yes

	is_triggered_only = yes

	option = { event_target:infant_guardian = { character_event = { id = RIP.11073 } } }
}

#Child dies
character_event = {
	id = RIP.11073
	picture = GFX_evt_birth
	desc = EVTDSC_RIP_11073
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	trigger = { FROM = { trait = sickly } }

	option = {
		name = EVTOPTA_RIP_11073

		FROM = { death = { death_reason = death_trait } }
	}
}
